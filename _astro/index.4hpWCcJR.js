import{j as n,s as b,t as B}from"./transform.D34fbgXt.js";import{u as C,p as M,f as N}from"./index.es.m1rM0mzC.js";import{r as x}from"./index.BVOCwoKb.js";import{s as w}from"./styles_module.578ca2c5.BJXQR6Ys.js";import{l as v}from"./linear.BjYA7XjI.js";import{r as $}from"./range.CY5glnGm.js";import{m as q}from"./map.xHaDjrCc.js";import{r as F}from"./range.OtVwhkKS.js";import{a as I,b as L}from"./axis.D3QohQNI.js";import{l as P}from"./line.CjWAwAWE.js";const t={container:{class:"flex flex-col "},display:{width:300,height:200,class:"p-0  mb-0 w-full h-auto"},controls:{width:300,height:60,class:"d3-widgets p-0  mb-0 w-full h-auto",grid:{x:8,y:4}},widgets:{buttons:[{id:"play_pause",actions:["play","pause"],value:0,position:{x:2,y:2}},{id:"reset",actions:["rewind"],value:0,position:{x:6,y:2}}]},plot:{margin:{l:30,r:30,t:10,b:30},xr:[-10,10],yr:[0,.5],xaxis:{label:"x",label_position:{x:280,y:190},fontsize:"20px"},yaxis:{label:"p(x,t)",label_position:{x:175,y:20},fontsize:"20px"}}},T=(o,d)=>{const e=v().domain(t.plot.xr).range([t.plot.margin.l,t.display.width-t.plot.margin.r]),i=v().domain(t.plot.yr).range([t.display.height-t.plot.margin.b,t.plot.margin.t]),R=I(e),_=L(i),m=P().x(s=>e(s.x)).y(s=>i(s.y)),u=(s,g)=>1/Math.sqrt(2*Math.PI*g)*Math.exp(-s*s/(2*g)),l=t.plot.xr,p=.01;var y=p;const j=.01;var f={},r=$(l[0],l[1],.01).map(s=>({x:s,y:u(s,p)}));const z=C(t.controls.width,t.controls.height,t.controls.grid.x,t.controls.grid.y),a=b(o),h=b(d),c=q(t.widgets.buttons,s=>N().id(s.id).value(s.value).actions(s.actions).position(z.position(s.position.x,s.position.y))),A=()=>{y+=j,r=F(l[0],l[1],.01).map(function(s){return{x:s,y:u(s,y)}}),a.select("#gauss").datum(r).attr("d",m)},E=()=>{y=p,r=$(l[0],l[1],.01).map(s=>({x:s,y:u(s,p)})),a.select("#gauss").datum(r).attr("d",m)};function k(s){c[0].value()==1?f=B(A,0):f.stop()}return c[0].update(k),c[1].update(E),h.selectAll(null).data(c).enter().append(M),a.append("g").datum(t.plot.xaxis).attr("class",w.axis).attr("transform",function(s){return"translate(0,"+i(0)+")"}).call(R),a.append("g").datum(t.plot.yaxis).attr("class",w.axis).attr("transform",function(s){return"translate("+e(0)+",0)"}).call(_),a.append("text").text(t.plot.xaxis.label).attr("x",t.plot.xaxis.label_position.x).attr("y",t.plot.xaxis.label_position.y).style("font-size",t.plot.xaxis.fontsize),a.append("text").text(t.plot.yaxis.label).attr("x",t.plot.yaxis.label_position.x).attr("y",t.plot.yaxis.label_position.y).style("font-size",t.plot.yaxis.fontsize),a.append("g").attr("class","grid"),a.append("path").datum(r).attr("d",m).attr("id","gauss").style("stroke","darkred").style("stroke-width",4).style("fill","none"),()=>{h.selectAll("*").remove(),a.selectAll("*").remove()}},U=({id:o})=>{const d=x.useRef(null),e=x.useRef(null),i=x.useRef(null);return x.useEffect(()=>T(e.current,i.current),[o]),n.jsx(n.Fragment,{children:n.jsxs("div",{ref:d,id:o,className:t.container.class,children:[n.jsx("svg",{ref:e,id:`${o}-display`,className:t.display.class,width:t.display.width,height:t.display.height,viewBox:`0 0 ${t.display.width} ${t.display.height}`}),n.jsx("svg",{ref:i,id:`${o}-controls`,className:t.controls.class,width:t.controls.width,height:t.controls.height,viewBox:`0 0 ${t.controls.width} ${t.controls.height}`})]})})};export{U as default};
