import{s as Hs,j as Us}from"./transform.D34fbgXt.js";import{r as Hi}from"./index.BVOCwoKb.js";(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('/*! tailwindcss v4.1.4 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-font-weight:initial}}}@layer theme{:root,:host{--tw-font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--tw-color-black:#000;--tw-color-white:#fff;--tw-spacing:.25rem;--tw-container-5xl:64rem;--tw-text-2xl:1.5rem;--tw-text-2xl--line-height:calc(2/1.5);--tw-text-3xl:1.875rem;--tw-text-3xl--line-height: 1.2 ;--tw-text-5xl:3rem;--tw-text-5xl--line-height:1;--tw-font-weight-light:300}}@layer base,components;@layer utilities{.tw\\:m-8{margin:calc(var(--tw-spacing)*8)}.tw\\:grid{display:grid}.tw\\:max-w-5xl{max-width:var(--tw-container-5xl)}.tw\\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.tw\\:bg-white{background-color:var(--tw-color-white)}.tw\\:p-0{padding:calc(var(--tw-spacing)*0)}.tw\\:px-1{padding-inline:calc(var(--tw-spacing)*1)}.tw\\:px-10{padding-inline:calc(var(--tw-spacing)*10)}.tw\\:font-sans{font-family:var(--tw-font-sans)}.tw\\:text-2xl{font-size:var(--tw-text-2xl);line-height:var(--tw-leading,var(--tw-text-2xl--line-height))}.tw\\:text-3xl{font-size:var(--tw-text-3xl);line-height:var(--tw-leading,var(--tw-text-3xl--line-height))}.tw\\:text-5xl{font-size:var(--tw-text-5xl);line-height:var(--tw-leading,var(--tw-text-5xl--line-height))}.tw\\:font-light{--tw-font-weight:var(--tw-font-weight-light);font-weight:var(--tw-font-weight-light)}.tw\\:text-black{color:var(--tw-color-black)}@media (min-width:40rem){.tw\\:sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.tw\\:sm\\:gap-8{gap:calc(var(--tw-spacing)*8)}.tw\\:sm\\:p-0{padding:calc(var(--tw-spacing)*0)}}@media (prefers-color-scheme:dark){.tw\\:dark\\:bg-black{background-color:var(--tw-color-black)}.tw\\:dark\\:text-white{color:var(--tw-color-white)}}.debug-grid-16{background-image:linear-gradient(90deg,#0000ff1a 1px,#0000 1px),linear-gradient(#0000ff1a 1px,#0000 1px);background-repeat:repeat;background-size:6.25% 6.25%,6.25% 6.25%}}.explorable *,.explorable :before,.explorable :after{box-sizing:border-box}@property --tw-font-weight{syntax:"*";inherits:false}._displayPanel_eiueu_1,._controlPanel_eiueu_6{display:block}._car_eiueu_15{stroke:#000;stroke-width:1px}._tire_eiueu_20{fill:#000;stroke:none}._street_background_eiueu_25{stroke:#000;stroke-width:32;fill:none;stroke-linecap:round}._asphalt_eiueu_32{stroke:#787878;stroke-width:29;fill:none;stroke-linecap:round}._street_marks_eiueu_39{stroke:#fff;stroke-width:1;fill:none;stroke-dasharray:4}._pivot_eiueu_48{stroke:#000;fill:#000}._tachoborder_eiueu_53{fill:none;stroke:#000;stroke-width:1.5px}._tachoredzone_eiueu_59{fill:none;stroke:red;stroke-opacity:.3;stroke-width:7;stroke-linecap:round}._tachotick_eiueu_67{fill:none;stroke:#000;stroke-width:1px}._ticklabel_eiueu_73{font-size:10;text-anchor:middle}._pin_eiueu_79{stroke:#000;stroke-width:1px;stroke-linecap:round;stroke-opacity:.1}._meanspeed_eiueu_86{stroke:#b40000;stroke-width:5px;stroke-linecap:round;stroke-opacity:1}@media (prefers-color-scheme: dark){._car_eiueu_15{stroke:#000;stroke-width:1px}._tire_eiueu_20{fill:#000;stroke:none}._street_background_eiueu_25{stroke:#fff;stroke-width:32;fill:none;stroke-linecap:round}._asphalt_eiueu_32{stroke:#141414;stroke-width:29;fill:none;stroke-linecap:round}._street_marks_eiueu_39{stroke:gray;stroke-width:1;fill:none;stroke-dasharray:4}._tachoborder_eiueu_53{fill:none;stroke:#fff;stroke-width:1.5px}._tachoredzone_eiueu_59{fill:none;stroke:red;stroke-opacity:.7;stroke-width:7;stroke-linecap:round}._tachotick_eiueu_67{fill:none;stroke:#fff;stroke-width:1px}._ticklabel_eiueu_73{font-size:10;text-anchor:middle;fill:#fff}._pin_eiueu_79{stroke:#fff;stroke-width:1px;stroke-linecap:round;stroke-opacity:.1}._pivot_eiueu_48{stroke:#fff;fill:#fff}._meanspeed_eiueu_86{stroke:#b40000;stroke-width:5px;stroke-linecap:round;stroke-opacity:1}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Rn={display_type:"svg",debug:!1,controls_border:"",display_border:"",debug_lattice:"debug-grid-16",controls_grid:{nx:12,ny:12},display_size:{width:500,height:500},controls_size:{width:480,height:480},display_class:" tw:p-0",controls_class:"tw:p-0",container_class:"tw:font-sans tw:font-light tw:grid tw:grid-cols-1 tw:sm:grid-cols-2 tw:sm:gap-8 tw:px-1 tw:sm:p-0 tw:m-8"};function an(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ws(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pa(t){let e,n,r;t.length!==2?(e=an,n=(u,l)=>an(t(u),l),r=(u,l)=>t(u)-l):(e=t===an||t===Ws?t:Gs,n=t,r=t);function i(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<0?s=f+1:c=f}while(s<c)}return s}function o(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<=0?s=f+1:c=f}while(s<c)}return s}function a(u,l,s=0,c=u.length){const f=i(u,l,s,c-1);return f>s&&r(u[f-1],l)>-r(u[f],l)?f-1:f}return{left:i,center:a,right:o}}function Gs(){return 0}function Zs(t){return t===null?NaN:+t}const Ks=Pa(an),Qs=Ks.right;Pa(Zs).center;const Js=Math.sqrt(50),tl=Math.sqrt(10),el=Math.sqrt(2);function vn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Js?10:o>=tl?5:o>=el?2:1;let u,l,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(t*s),l=Math.round(e*s),u/s<t&&++u,l/s>e&&--l,s=-s):(s=Math.pow(10,i)*a,u=Math.round(t/s),l=Math.round(e/s),u*s<t&&++u,l*s>e&&--l),l<u&&.5<=n&&n<2?vn(t,e,n*2):[u,l,s]}function nl(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?vn(e,t,n):vn(t,e,n);if(!(o>=i))return[];const u=o-i+1,l=new Array(u);if(r)if(a<0)for(let s=0;s<u;++s)l[s]=(o-s)/-a;else for(let s=0;s<u;++s)l[s]=(o-s)*a;else if(a<0)for(let s=0;s<u;++s)l[s]=(i+s)/-a;else for(let s=0;s<u;++s)l[s]=(i+s)*a;return l}function jr(t,e,n){return e=+e,t=+t,n=+n,vn(t,e,n)[2]}function rl(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?jr(e,t,n):jr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function il(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ol(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ta(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Ve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var al={value:()=>{}};function Ia(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new un(n)}function un(t){this._=t}function ul(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}un.prototype=Ia.prototype={constructor:un,on:function(t,e){var n=this._,r=ul(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=sl(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Ui(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ui(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new un(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function sl(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ui(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=al,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var $r="http://www.w3.org/1999/xhtml";const Wi={svg:"http://www.w3.org/2000/svg",xhtml:$r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Wi.hasOwnProperty(e)?{space:Wi[e],local:t}:t}function ll(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$r&&e.documentElement.namespaceURI===$r?e.createElement(t):e.createElementNS(n,t)}}function cl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ca(t){var e=Bn(t);return(e.local?cl:ll)(e)}function fl(){}function si(t){return t==null?fl:function(){return this.querySelector(t)}}function hl(t){typeof t!="function"&&(t=si(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=new Array(a),l,s,c=0;c<a;++c)(l=o[c])&&(s=t.call(l,l.__data__,c,o))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new B(r,this._parents)}function pl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dl(){return[]}function qa(t){return t==null?dl:function(){return this.querySelectorAll(t)}}function gl(t){return function(){return pl(t.apply(this,arguments))}}function _l(t){typeof t=="function"?t=gl(t):t=qa(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&(r.push(t.call(l,l.__data__,s,a)),i.push(l));return new B(r,i)}function La(t){return function(){return this.matches(t)}}function Xa(t){return function(e){return e.matches(t)}}var vl=Array.prototype.find;function yl(t){return function(){return vl.call(this.children,t)}}function ml(){return this.firstElementChild}function wl(t){return this.select(t==null?ml:yl(typeof t=="function"?t:Xa(t)))}var bl=Array.prototype.filter;function xl(){return Array.from(this.children)}function Ml(t){return function(){return bl.call(this.children,t)}}function kl(t){return this.selectAll(t==null?xl:Ml(typeof t=="function"?t:Xa(t)))}function Al(t){typeof t!="function"&&(t=La(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&u.push(l);return new B(r,this._parents)}function Ra(t){return new Array(t.length)}function jl(){return new B(this._enter||this._groups.map(Ra),this._parents)}function yn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yn.prototype={constructor:yn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $l(t){return function(){return t}}function Nl(t,e,n,r,i,o){for(var a=0,u,l=e.length,s=o.length;a<s;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new yn(t,o[a]);for(;a<l;++a)(u=e[a])&&(i[a]=u)}function zl(t,e,n,r,i,o,a){var u,l,s=new Map,c=e.length,f=o.length,h=new Array(c),p;for(u=0;u<c;++u)(l=e[u])&&(h[u]=p=a.call(l,l.__data__,u,e)+"",s.has(p)?i[u]=l:s.set(p,l));for(u=0;u<f;++u)p=a.call(t,o[u],u,o)+"",(l=s.get(p))?(r[u]=l,l.__data__=o[u],s.delete(p)):n[u]=new yn(t,o[u]);for(u=0;u<c;++u)(l=e[u])&&s.get(h[u])===l&&(i[u]=l)}function Sl(t){return t.__data__}function El(t,e){if(!arguments.length)return Array.from(this,Sl);var n=e?zl:Nl,r=this._parents,i=this._groups;typeof t!="function"&&(t=$l(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var c=r[s],f=i[s],h=f.length,p=Ol(t.call(c,c&&c.__data__,s,r)),d=p.length,v=u[s]=new Array(d),w=a[s]=new Array(d),_=l[s]=new Array(h);n(c,f,v,w,_,p,e);for(var x=0,k=0,g,m;x<d;++x)if(g=v[x]){for(x>=k&&(k=x+1);!(m=w[k])&&++k<d;);g._next=m||null}}return a=new B(a,r),a._enter=u,a._exit=l,a}function Ol(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pl(){return new B(this._exit||this._groups.map(Ra),this._parents)}function Tl(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Il(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var s=n[l],c=r[l],f=s.length,h=u[l]=new Array(f),p,d=0;d<f;++d)(p=s[d]||c[d])&&(h[d]=p);for(;l<i;++l)u[l]=n[l];return new B(u,this._parents)}function Cl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ql(t){t||(t=Ll);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],u=a.length,l=i[o]=new Array(u),s,c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new B(i,this._parents).order()}function Ll(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Rl(){return Array.from(this)}function Bl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Dl(){let t=0;for(const e of this)++t;return t}function Yl(){return!this.node()}function Fl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function Vl(t){return function(){this.removeAttribute(t)}}function Hl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ul(t,e){return function(){this.setAttribute(t,e)}}function Wl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Zl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Kl(t,e){var n=Bn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Hl:Vl:typeof e=="function"?n.local?Zl:Gl:n.local?Wl:Ul)(n,e))}function Ba(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ql(t){return function(){this.style.removeProperty(t)}}function Jl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function tc(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ec(t,e,n){return arguments.length>1?this.each((e==null?Ql:typeof e=="function"?tc:Jl)(t,e,n??"")):ee(this.node(),t)}function ee(t,e){return t.style.getPropertyValue(e)||Ba(t).getComputedStyle(t,null).getPropertyValue(e)}function nc(t){return function(){delete this[t]}}function rc(t,e){return function(){this[t]=e}}function ic(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function oc(t,e){return arguments.length>1?this.each((e==null?nc:typeof e=="function"?ic:rc)(t,e)):this.node()[t]}function Da(t){return t.trim().split(/^|\s+/)}function li(t){return t.classList||new Ya(t)}function Ya(t){this._node=t,this._names=Da(t.getAttribute("class")||"")}Ya.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fa(t,e){for(var n=li(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Va(t,e){for(var n=li(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ac(t){return function(){Fa(this,t)}}function uc(t){return function(){Va(this,t)}}function sc(t,e){return function(){(e.apply(this,arguments)?Fa:Va)(this,t)}}function lc(t,e){var n=Da(t+"");if(arguments.length<2){for(var r=li(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?sc:e?ac:uc)(n,e))}function cc(){this.textContent=""}function fc(t){return function(){this.textContent=t}}function hc(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function pc(t){return arguments.length?this.each(t==null?cc:(typeof t=="function"?hc:fc)(t)):this.node().textContent}function dc(){this.innerHTML=""}function gc(t){return function(){this.innerHTML=t}}function _c(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function vc(t){return arguments.length?this.each(t==null?dc:(typeof t=="function"?_c:gc)(t)):this.node().innerHTML}function yc(){this.nextSibling&&this.parentNode.appendChild(this)}function mc(){return this.each(yc)}function wc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bc(){return this.each(wc)}function xc(t){var e=typeof t=="function"?t:Ca(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Mc(){return null}function kc(t,e){var n=typeof t=="function"?t:Ca(t),r=e==null?Mc:typeof e=="function"?e:si(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ac(){var t=this.parentNode;t&&t.removeChild(this)}function jc(){return this.each(Ac)}function $c(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zc(t){return this.select(t?Nc:$c)}function Sc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ec(t){return function(e){t.call(this,e,this.__data__)}}function Oc(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Pc(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Tc(t,e,n){return function(){var r=this.__on,i,o=Ec(e);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ic(t,e,n){var r=Oc(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(i=0,c=u[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(u=e?Tc:Pc,i=0;i<o;++i)this.each(u(r[i],e,n));return this}function Ha(t,e,n){var r=Ba(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Cc(t,e){return function(){return Ha(this,t,e)}}function qc(t,e){return function(){return Ha(this,t,e.apply(this,arguments))}}function Lc(t,e){return this.each((typeof e=="function"?qc:Cc)(t,e))}function*Xc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Ua=[null];function B(t,e){this._groups=t,this._parents=e}function Le(){return new B([[document.documentElement]],Ua)}function Rc(){return this}B.prototype=Le.prototype={constructor:B,select:hl,selectAll:_l,selectChild:wl,selectChildren:kl,filter:Al,data:El,enter:jl,exit:Pl,join:Tl,merge:Il,selection:Rc,order:Cl,sort:ql,call:Xl,nodes:Rl,node:Bl,size:Dl,empty:Yl,each:Fl,attr:Kl,style:ec,property:oc,classed:lc,text:pc,html:vc,raise:mc,lower:bc,append:xc,insert:kc,remove:jc,clone:zc,datum:Sc,on:Ic,dispatch:Lc,[Symbol.iterator]:Xc};function Bc(t){return typeof t=="string"?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],Ua)}function ci(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xe(){}var je=.7,mn=1/je,Zt="\\s*([+-]?\\d+)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dc=/^#([0-9a-f]{3,8})$/,Yc=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),Fc=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Vc=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${$e}\\)$`),Hc=new RegExp(`^rgba\\(${rt},${rt},${rt},${$e}\\)$`),Uc=new RegExp(`^hsl\\(${$e},${rt},${rt}\\)$`),Wc=new RegExp(`^hsla\\(${$e},${rt},${rt},${$e}\\)$`),Gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ci(Xe,Ot,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zi,formatHex:Zi,formatHex8:Gc,formatHsl:Zc,formatRgb:Ki,toString:Ki});function Zi(){return this.rgb().formatHex()}function Gc(){return this.rgb().formatHex8()}function Zc(){return Ga(this).formatHsl()}function Ki(){return this.rgb().formatRgb()}function Ot(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qi(e):n===3?new L(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?He(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?He(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yc.exec(t))?new L(e[1],e[2],e[3],1):(e=Fc.exec(t))?new L(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vc.exec(t))?He(e[1],e[2],e[3],e[4]):(e=Hc.exec(t))?He(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uc.exec(t))?eo(e[1],e[2]/100,e[3]/100,1):(e=Wc.exec(t))?eo(e[1],e[2]/100,e[3]/100,e[4]):Gi.hasOwnProperty(t)?Qi(Gi[t]):t==="transparent"?new L(NaN,NaN,NaN,0):null}function Qi(t){return new L(t>>16&255,t>>8&255,t&255,1)}function He(t,e,n,r){return r<=0&&(t=e=n=NaN),new L(t,e,n,r)}function Kc(t){return t instanceof Xe||(t=Ot(t)),t?(t=t.rgb(),new L(t.r,t.g,t.b,t.opacity)):new L}function Nr(t,e,n,r){return arguments.length===1?Kc(t):new L(t,e,n,r??1)}function L(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ci(L,Nr,Wa(Xe,{brighter(t){return t=t==null?mn:Math.pow(mn,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?je:Math.pow(je,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new L(St(this.r),St(this.g),St(this.b),wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ji,formatHex:Ji,formatHex8:Qc,formatRgb:to,toString:to}));function Ji(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function Qc(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function to(){const t=wn(this.opacity);return`${t===1?"rgb(":"rgba("}${St(this.r)}, ${St(this.g)}, ${St(this.b)}${t===1?")":`, ${t})`}`}function wn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function St(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=St(t),(t<16?"0":"")+t.toString(16)}function eo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Z(t,e,n,r)}function Ga(t){if(t instanceof Z)return new Z(t.h,t.s,t.l,t.opacity);if(t instanceof Xe||(t=Ot(t)),!t)return new Z;if(t instanceof Z)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Z(a,u,l,t.opacity)}function Jc(t,e,n,r){return arguments.length===1?Ga(t):new Z(t,e,n,r??1)}function Z(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ci(Z,Jc,Wa(Xe,{brighter(t){return t=t==null?mn:Math.pow(mn,t),new Z(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?je:Math.pow(je,t),new Z(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new L(fr(t>=240?t-240:t+120,i,r),fr(t,i,r),fr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Z(no(this.h),Ue(this.s),Ue(this.l),wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wn(this.opacity);return`${t===1?"hsl(":"hsla("}${no(this.h)}, ${Ue(this.s)*100}%, ${Ue(this.l)*100}%${t===1?")":`, ${t})`}`}}));function no(t){return t=(t||0)%360,t<0?t+360:t}function Ue(t){return Math.max(0,Math.min(1,t||0))}function fr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fi=t=>()=>t;function tf(t,e){return function(n){return t+n*e}}function ef(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nf(t){return(t=+t)==1?Za:function(e,n){return n-e?ef(e,n,t):fi(isNaN(e)?n:e)}}function Za(t,e){var n=e-t;return n?tf(t,n):fi(isNaN(t)?e:t)}const bn=function t(e){var n=nf(e);function r(i,o){var a=n((i=Nr(i)).r,(o=Nr(o)).r),u=n(i.g,o.g),l=n(i.b,o.b),s=Za(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=u(c),i.b=l(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1);function rf(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function of(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function af(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=hi(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function uf(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function W(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sf(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hr=new RegExp(zr.source,"g");function lf(t){return function(){return t}}function cf(t){return function(e){return t(e)+""}}function Ka(t,e){var n=zr.lastIndex=hr.lastIndex=0,r,i,o,a=-1,u=[],l=[];for(t=t+"",e=e+"";(r=zr.exec(t))&&(i=hr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,l.push({i:a,x:W(r,i)})),n=hr.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?cf(l[0].x):lf(e):(e=l.length,function(s){for(var c=0,f;c<e;++c)u[(f=l[c]).i]=f.x(s);return u.join("")})}function hi(t,e){var n=typeof e,r;return e==null||n==="boolean"?fi(e):(n==="number"?W:n==="string"?(r=Ot(e))?(e=r,bn):Ka:e instanceof Ot?bn:e instanceof Date?uf:of(e)?rf:Array.isArray(e)?af:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sf:W)(t,e)}function ff(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ro=180/Math.PI,Qa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ja(t,e,n,r,i,o){var a,u,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ro,skewX:Math.atan(l)*ro,scaleX:a,scaleY:u}}var We;function hf(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Qa:Ja(e.a,e.b,e.c,e.d,e.e,e.f)}function pf(t){return t==null||(We||(We=document.createElementNS("http://www.w3.org/2000/svg","g")),We.setAttribute("transform",t),!(t=We.transform.baseVal.consolidate()))?Qa:(t=t.matrix,Ja(t.a,t.b,t.c,t.d,t.e,t.f))}function tu(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,f,h,p,d){if(s!==f||c!==h){var v=p.push("translate(",null,e,null,n);d.push({i:v-4,x:W(s,f)},{i:v-2,x:W(c,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function a(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:W(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:W(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(s,c,f,h,p,d){if(s!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");d.push({i:v-4,x:W(s,f)},{i:v-2,x:W(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=t(s),c=t(c),o(s.translateX,s.translateY,c.translateX,c.translateY,f,h),a(s.rotate,c.rotate,f,h),u(s.skewX,c.skewX,f,h),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(p){for(var d=-1,v=h.length,w;++d<v;)f[(w=h[d]).i]=w.x(p);return f.join("")}}}var df=tu(hf,"px, ","px)","deg)"),gf=tu(pf,", ",")",")"),ne=0,ye=0,de=0,eu=1e3,xn,me,Mn=0,Pt=0,Dn=0,Ne=typeof performance=="object"&&performance.now?performance:Date,nu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yn(){return Pt||(nu(_f),Pt=Ne.now()+Dn)}function _f(){Pt=0}function ze(){this._call=this._time=this._next=null}ze.prototype=ru.prototype={constructor:ze,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Yn():+n)+(e==null?0:+e),!this._next&&me!==this&&(me?me._next=this:xn=this,me=this),this._call=t,this._time=n,Sr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sr())}};function ru(t,e,n){var r=new ze;return r.restart(t,e,n),r}function vf(){Yn(),++ne;for(var t=xn,e;t;)(e=Pt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ne}function io(){Pt=(Mn=Ne.now())+Dn,ne=ye=0;try{vf()}finally{ne=0,mf(),Pt=0}}function yf(){var t=Ne.now(),e=t-Mn;e>eu&&(Dn-=e,Mn=t)}function mf(){for(var t,e=xn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xn=n);me=t,Sr(r)}function Sr(t){if(!ne){ye&&(ye=clearTimeout(ye));var e=t-Pt;e>24?(t<1/0&&(ye=setTimeout(io,t-Ne.now()-Dn)),de&&(de=clearInterval(de))):(de||(Mn=Ne.now(),de=setInterval(yf,eu)),ne=1,nu(io))}}function oo(t,e,n){var r=new ze;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function wf(t,e,n){var r=new ze,i=e;return r._restart=r.restart,r.restart=function(o,a,u){a=+a,u=u==null?Yn():+u,r._restart(function l(s){s+=i,r._restart(l,i+=a,u),o(s)},a,u)},r.restart(t,e,n),r}var bf=Ia("start","end","cancel","interrupt"),xf=[],iu=0,ao=1,Er=2,sn=3,uo=4,Or=5,ln=6;function Fn(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Mf(t,n,{name:e,index:r,group:i,on:bf,tween:xf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:iu})}function pi(t,e){var n=tt(t,e);if(n.state>iu)throw new Error("too late; already scheduled");return n}function at(t,e){var n=tt(t,e);if(n.state>sn)throw new Error("too late; already running");return n}function tt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mf(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ru(o,0,n.time);function o(s){n.state=ao,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,f,h,p;if(n.state!==ao)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===sn)return oo(a);p.state===uo?(p.state=ln,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=ln,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(oo(function(){n.state===sn&&(n.state=uo,n.timer.restart(u,n.delay,n.time),u(s))}),n.state=Er,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Er){for(n.state=sn,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function u(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(l),n.state=Or,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Or&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ln,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function kf(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Er&&r.state<Or,r.state=ln,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Af(t){return this.each(function(){kf(this,t)})}function jf(t,e){var n,r;return function(){var i=at(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function $f(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=at(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},l=0,s=i.length;l<s;++l)if(i[l].name===e){i[l]=u;break}l===s&&i.push(u)}o.tween=i}}function Nf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=tt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?jf:$f)(n,t,e))}function di(t,e,n){var r=t._id;return t.each(function(){var i=at(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return tt(i,r).value[e]}}function ou(t,e){var n;return(typeof e=="number"?W:e instanceof Ot?bn:(n=Ot(e))?(e=n,bn):Ka)(t,e)}function zf(t){return function(){this.removeAttribute(t)}}function Sf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ef(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Of(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Pf(t,e,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u)))}}function Tf(t,e,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u)))}}function If(t,e){var n=Bn(t),r=n==="transform"?gf:ou;return this.attrTween(t,typeof e=="function"?(n.local?Tf:Pf)(n,r,di(this,"attr."+t,e)):e==null?(n.local?Sf:zf)(n):(n.local?Of:Ef)(n,r,e))}function Cf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Lf(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&qf(t,o)),n}return i._value=e,i}function Xf(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Cf(t,o)),n}return i._value=e,i}function Rf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Bn(t);return this.tween(n,(r.local?Lf:Xf)(r,e))}function Bf(t,e){return function(){pi(this,t).delay=+e.apply(this,arguments)}}function Df(t,e){return e=+e,function(){pi(this,t).delay=e}}function Yf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bf:Df)(e,t)):tt(this.node(),e).delay}function Ff(t,e){return function(){at(this,t).duration=+e.apply(this,arguments)}}function Vf(t,e){return e=+e,function(){at(this,t).duration=e}}function Hf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ff:Vf)(e,t)):tt(this.node(),e).duration}function Uf(t,e){if(typeof e!="function")throw new Error;return function(){at(this,t).ease=e}}function Wf(t){var e=this._id;return arguments.length?this.each(Uf(e,t)):tt(this.node(),e).ease}function Gf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,t).ease=n}}function Zf(t){if(typeof t!="function")throw new Error;return this.each(Gf(this._id,t))}function Kf(t){typeof t!="function"&&(t=La(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&u.push(l);return new pt(r,this._parents,this._name,this._id)}function Qf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l=e[u],s=n[u],c=l.length,f=a[u]=new Array(c),h,p=0;p<c;++p)(h=l[p]||s[p])&&(f[p]=h);for(;u<r;++u)a[u]=e[u];return new pt(a,this._parents,this._name,this._id)}function Jf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function th(t,e,n){var r,i,o=Jf(e)?pi:at;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}function eh(t,e){var n=this._id;return arguments.length<2?tt(this.node(),n).on.on(t):this.each(th(n,t,e))}function nh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function rh(){return this.on("end.remove",nh(this._id))}function ih(t){var e=this._name,n=this._id;typeof t!="function"&&(t=si(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],l=u.length,s=o[a]=new Array(l),c,f,h=0;h<l;++h)(c=u[h])&&(f=t.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,Fn(s[h],e,n,h,s,tt(c,n)));return new pt(o,this._parents,e,n)}function oh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qa(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l=r[u],s=l.length,c,f=0;f<s;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),p,d=tt(c,n),v=0,w=h.length;v<w;++v)(p=h[v])&&Fn(p,e,n,v,h,d);o.push(h),a.push(c)}return new pt(o,a,e,n)}var ah=Le.prototype.constructor;function uh(){return new ah(this._groups,this._parents)}function sh(t,e){var n,r,i;return function(){var o=ee(this,t),a=(this.style.removeProperty(t),ee(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function au(t){return function(){this.style.removeProperty(t)}}function lh(t,e,n){var r,i=n+"",o;return function(){var a=ee(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ch(t,e,n){var r,i,o;return function(){var a=ee(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),ee(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u))}}function fh(t,e){var n,r,i,o="style."+e,a="end."+o,u;return function(){var l=at(this,t),s=l.on,c=l.value[o]==null?u||(u=au(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),l.on=r}}function hh(t,e,n){var r=(t+="")=="transform"?df:ou;return e==null?this.styleTween(t,sh(t,r)).on("end.style."+t,au(t)):typeof e=="function"?this.styleTween(t,ch(t,r,di(this,"style."+t,e))).each(fh(this._id,t)):this.styleTween(t,lh(t,r,e),n).on("end.style."+t,null)}function ph(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function dh(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ph(t,a,n)),r}return o._value=e,o}function gh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,dh(t,e,n??""))}function _h(t){return function(){this.textContent=t}}function vh(t){return function(){var e=t(this);this.textContent=e??""}}function yh(t){return this.tween("text",typeof t=="function"?vh(di(this,"text",t)):_h(t==null?"":t+""))}function mh(t){return function(e){this.textContent=t.call(this,e)}}function wh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&mh(i)),e}return r._value=t,r}function bh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wh(t))}function xh(){for(var t=this._name,e=this._id,n=uu(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)if(l=a[s]){var c=tt(l,e);Fn(l,t,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new pt(r,this._parents,t,n)}function Mh(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var u={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var s=at(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),s.on=e}),i===0&&o()})}var kh=0;function pt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function uu(){return++kh}var st=Le.prototype;pt.prototype={constructor:pt,select:ih,selectAll:oh,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:Kf,merge:Qf,selection:uh,transition:xh,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:eh,attr:If,attrTween:Rf,style:hh,styleTween:gh,text:yh,textTween:bh,remove:rh,tween:Nf,delay:Yf,duration:Hf,ease:Wf,easeVarying:Zf,end:Mh,[Symbol.iterator]:st[Symbol.iterator]};function Ah(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jh={time:null,delay:0,duration:250,ease:Ah};function $h(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Nh(t){var e,n;t instanceof pt?(e=t._id,t=t._name):(e=uu(),(n=jh).time=Yn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&Fn(l,t,e,s,a,n||$h(l,e));return new pt(r,this._parents,t,e)}Le.prototype.interrupt=Af;Le.prototype.transition=Nh;const Pr=Math.PI,Tr=2*Pr,jt=1e-6,zh=Tr-jt;function su(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return su;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Eh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?su:Sh(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,l=r-e,s=i-n,c=a-e,f=u-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>jt)if(!(Math.abs(f*l-s*c)>jt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,d=i-u,v=l*l+s*s,w=p*p+d*d,_=Math.sqrt(v),x=Math.sqrt(h),k=o*Math.tan((Pr-Math.acos((v+h-w)/(2*_*x)))/2),g=k/x,m=k/_;Math.abs(g-1)>jt&&this._append`L${e+g*c},${n+g*f}`,this._append`A${o},${o},0,0,${+(f*p>c*d)},${this._x1=e+m*l},${this._y1=n+m*s}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),s=e+u,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>jt||Math.abs(this._y1-c)>jt)&&this._append`L${s},${c}`,r&&(h<0&&(h=h%Tr+Tr),h>zh?this._append`A${r},${r},0,1,${f},${e-u},${n-l}A${r},${r},0,1,${f},${this._x1=s},${this._y1=c}`:h>jt&&this._append`A${r},${r},0,${+(h>=Pr)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Oh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function re(t){return t=kn(Math.abs(t)),t?t[1]:NaN}function Ph(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Th(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ih=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function An(t){if(!(e=Ih.exec(t)))throw new Error("invalid format: "+t);var e;return new gi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}An.prototype=gi.prototype;function gi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ch(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var lu;function qh(t,e){var n=kn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(lu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kn(t,Math.max(0,e+o-1))[0]}function so(t,e){var n=kn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lo={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Oh,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>so(t*100,e),r:so,s:qh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function co(t){return t}var fo=Array.prototype.map,ho=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lh(t){var e=t.grouping===void 0||t.thousands===void 0?co:Ph(fo.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?co:Th(fo.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(f){f=An(f);var h=f.fill,p=f.align,d=f.sign,v=f.symbol,w=f.zero,_=f.width,x=f.comma,k=f.precision,g=f.trim,m=f.type;m==="n"?(x=!0,m="g"):lo[m]||(k===void 0&&(k=12),g=!0,m="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",O=v==="$"?r:/[%p]/.test(m)?a:"",P=lo[m],Y=/[defgprs%]/.test(m);k=k===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(y){var T=E,A=O,I,At,R;if(m==="c")A=P(y)+A,y="";else{y=+y;var V=y<0||1/y<0;if(y=isNaN(y)?l:P(Math.abs(y),k),g&&(y=Ch(y)),V&&+y==0&&d!=="+"&&(V=!1),T=(V?d==="("?d:u:d==="-"||d==="("?"":d)+T,A=(m==="s"?ho[8+lu/3]:"")+A+(V&&d==="("?")":""),Y){for(I=-1,At=y.length;++I<At;)if(R=y.charCodeAt(I),48>R||R>57){A=(R===46?i+y.slice(I+1):y.slice(I))+A,y=y.slice(0,I);break}}}x&&!w&&(y=e(y,1/0));var U=T.length+y.length+A.length,z=U<_?new Array(_-U+1).join(h):"";switch(x&&w&&(y=e(z+y,z.length?_-A.length:1/0),z=""),p){case"<":y=T+y+A+z;break;case"=":y=T+z+y+A;break;case"^":y=z.slice(0,U=z.length>>1)+T+y+A+z.slice(U);break;default:y=z+T+y+A;break}return o(y)}return F.toString=function(){return f+""},F}function c(f,h){var p=s((f=An(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(re(h)/3)))*3,v=Math.pow(10,-d),w=ho[8+d/3];return function(_){return p(v*_)+w}}return{format:s,formatPrefix:c}}var Ge,cu,fu;Xh({thousands:",",grouping:[3],currency:["$",""]});function Xh(t){return Ge=Lh(t),cu=Ge.format,fu=Ge.formatPrefix,Ge}function Rh(t){return Math.max(0,-re(Math.abs(t)))}function Bh(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(re(e)/3)))*3-re(Math.abs(t)))}function Dh(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,re(e)-re(t))+1}function Yh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fh(t){return function(){return t}}function Vh(t){return+t}var po=[0,1];function Ht(t){return t}function Ir(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fh(isNaN(e)?NaN:.5)}function Hh(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uh(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ir(i,r),o=n(a,o)):(r=Ir(r,i),o=n(o,a)),function(u){return o(r(u))}}function Wh(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ir(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var l=Qs(t,u,1,r)-1;return o[l](i[l](u))}}function Gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zh(){var t=po,e=po,n=hi,r,i,o,a=Ht,u,l,s;function c(){var h=Math.min(t.length,e.length);return a!==Ht&&(a=Hh(t[0],t[h-1])),u=h>2?Wh:Uh,l=s=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=u(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((s||(s=u(e,t.map(r),W)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Vh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ff,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Ht,c()):a!==Ht},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function Kh(){return Zh()(Ht,Ht)}function Qh(t,e,n,r){var i=rl(t,e,n),o;switch(r=An(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Bh(i,a))&&(r.precision=o),fu(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Dh(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Rh(i))&&(r.precision=o-(r.type==="%")*2);break}}return cu(r)}function Jh(t){var e=t.domain;return t.ticks=function(n){var r=e();return nl(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qh(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],l,s,c=10;for(u<a&&(s=a,a=u,u=s,s=i,i=o,o=s);c-- >0;){if(s=jr(a,u,n),s===l)return r[i]=a,r[o]=u,e(r);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;l=s}return t},t}function fe(){var t=Kh();return t.copy=function(){return Gh(t,fe())},Yh.apply(t,arguments),Jh(t)}function Vt(t){return function(){return t}}function tp(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Eh(e)}function ep(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hu(t){this._context=t}hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function np(t){return new hu(t)}function rp(t){return t[0]}function ip(t){return t[1]}function pu(t,e){var n=Vt(!0),r=null,i=np,o=null,a=tp(u);t=typeof t=="function"?t:t===void 0?rp:Vt(t),e=typeof e=="function"?e:e===void 0?ip:Vt(e);function u(l){var s,c=(l=ep(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),s=0;s<=c;++s)!(s<c&&n(f=l[s],s,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,s,l),+e(f,s,l));if(p)return o=null,p+""||null}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:Vt(+l),u):t},u.y=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(+l),u):e},u.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vt(!!l),u):n},u.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),u):i},u.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),u):r},u}function we(t,e,n){this.k=t,this.x=e,this.y=n}we.prototype={constructor:we,scale:function(t){return t===1?this:new we(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new we(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};we.prototype;(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".d3-widgets{--color-border: rgb(150, 150, 150);--color-background: #ccc;--color-text: #000;--color-symbol: #fff;--color-lit: #eee;--color-lit-symbol: #bbb;--color-selected: #000;--color-handle: #fff;--dw-font-size: 16px;--dw-line-height: 1.25;font-size:var(--dw-font-size);line-height:var(--dw-line-height);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:400}@media (prefers-color-scheme: dark){.d3-widgets{--color-border: rgb(105, 105, 105);--color-background: #333;--color-text: #bcbcbc;--color-symbol: #000;--color-lit: #111;--color-lit-symbol: #444;--color-selected: #dbdbdb;--color-handle: #9f9f9f}}.d3-widgets.dark-mode{--color-border: rgb(105, 105, 105);--color-background: #333;--color-text: #bcbcbc;--color-symbol: #000;--color-lit: #111;--color-lit-symbol: #444;--color-selected: #dbdbdb;--color-handle: #9f9f9f}._widget_9wct0_49{stroke:var(--color-border);stroke-width:1px;cursor:pointer;pointer-events:all;stroke-opacity:1;fill-opacity:1;fill:var(--color-background);font-size:1em}._widget_9wct0_49 ._title_9wct0_61{font-size:1.25em;fill:var(--color-text);stroke:none;text-anchor:middle}._widget_9wct0_49 ._label_9wct0_69{fill:var(--color-text);stroke:none}._widget_9wct0_49 ._lit_9wct0_74{fill:var(--color-lit)}._button_9wct0_78>._symbol_9wct0_78,._radio_9wct0_79>._radiobutton_9wct0_79>._symbol_9wct0_78{fill:var(--color-symbol);fill-rule:nonzero;pointer-events:none}._widget_9wct0_49 ._symbol_9wct0_78._selected_9wct0_85,._toggle_9wct0_86._selected_9wct0_85,._widget_9wct0_49 ._symbol_9wct0_78._selected_9wct0_85._lit_9wct0_74{fill:var(--color-selected)}._widget_9wct0_49 ._symbol_9wct0_78._lit_9wct0_74{fill:var(--color-lit-symbol)}._slider_9wct0_95>._track_9wct0_95,._toggle_9wct0_86>._track_9wct0_95{pointer-events:none}._slider_9wct0_95>._track_overlay_9wct0_100,._toggle_9wct0_86>._track_overlay_9wct0_100{pointer-events:all;cursor:pointer;fill:transparent;stroke:transparent}._slider_9wct0_95>._handle_9wct0_108,._toggle_9wct0_86>._handle_9wct0_108{fill:var(--color-handle)}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function cn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function op(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function du(t){let e,n,r;t.length!==2?(e=cn,n=(u,l)=>cn(t(u),l),r=(u,l)=>t(u)-l):(e=t===cn||t===op?t:ap,n=t,r=t);function i(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<0?s=f+1:c=f}while(s<c)}return s}function o(u,l,s=0,c=u.length){if(s<c){if(e(l,l)!==0)return c;do{const f=s+c>>>1;n(u[f],l)<=0?s=f+1:c=f}while(s<c)}return s}function a(u,l,s=0,c=u.length){const f=i(u,l,s,c-1);return f>s&&r(u[f-1],l)>-r(u[f],l)?f-1:f}return{left:i,center:a,right:o}}function ap(){return 0}function up(t){return t===null?NaN:+t}const sp=du(cn),lp=sp.right;du(up).center;const cp=Math.sqrt(50),fp=Math.sqrt(10),hp=Math.sqrt(2);function jn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=cp?10:o>=fp?5:o>=hp?2:1;let u,l,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(t*s),l=Math.round(e*s),u/s<t&&++u,l/s>e&&--l,s=-s):(s=Math.pow(10,i)*a,u=Math.round(t/s),l=Math.round(e/s),u*s<t&&++u,l*s>e&&--l),l<u&&.5<=n&&n<2?jn(t,e,n*2):[u,l,s]}function pp(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?jn(e,t,n):jn(t,e,n);if(!(o>=i))return[];const u=o-i+1,l=new Array(u);if(r)if(a<0)for(let s=0;s<u;++s)l[s]=(o-s)/-a;else for(let s=0;s<u;++s)l[s]=(o-s)*a;else if(a<0)for(let s=0;s<u;++s)l[s]=(i+s)/-a;else for(let s=0;s<u;++s)l[s]=(i+s)*a;return l}function Cr(t,e,n){return e=+e,t=+t,n=+n,jn(t,e,n)[2]}function dp(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Cr(e,t,n):Cr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ze(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gp(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var _p={value:()=>{}};function _i(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new fn(n)}function fn(t){this._=t}function vp(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}fn.prototype=_i.prototype={constructor:fn,on:function(t,e){var n=this._,r=vp(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=yp(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=go(n[i],t.name,e);else if(e==null)for(i in n)n[i]=go(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function yp(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function go(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_p,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var qr="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:qr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_o.hasOwnProperty(e)?{space:_o[e],local:t}:t}function mp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qr&&e.documentElement.namespaceURI===qr?e.createElement(t):e.createElementNS(n,t)}}function wp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gu(t){var e=Vn(t);return(e.local?wp:mp)(e)}function bp(){}function vi(t){return t==null?bp:function(){return this.querySelector(t)}}function xp(t){typeof t!="function"&&(t=vi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=new Array(a),l,s,c=0;c<a;++c)(l=o[c])&&(s=t.call(l,l.__data__,c,o))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new D(r,this._parents)}function Mp(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function kp(){return[]}function _u(t){return t==null?kp:function(){return this.querySelectorAll(t)}}function Ap(t){return function(){return Mp(t.apply(this,arguments))}}function jp(t){typeof t=="function"?t=Ap(t):t=_u(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&(r.push(t.call(l,l.__data__,s,a)),i.push(l));return new D(r,i)}function vu(t){return function(){return this.matches(t)}}function yu(t){return function(e){return e.matches(t)}}var $p=Array.prototype.find;function Np(t){return function(){return $p.call(this.children,t)}}function zp(){return this.firstElementChild}function Sp(t){return this.select(t==null?zp:Np(typeof t=="function"?t:yu(t)))}var Ep=Array.prototype.filter;function Op(){return Array.from(this.children)}function Pp(t){return function(){return Ep.call(this.children,t)}}function Tp(t){return this.selectAll(t==null?Op:Pp(typeof t=="function"?t:yu(t)))}function Ip(t){typeof t!="function"&&(t=vu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&u.push(l);return new D(r,this._parents)}function mu(t){return new Array(t.length)}function Cp(){return new D(this._enter||this._groups.map(mu),this._parents)}function $n(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$n.prototype={constructor:$n,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qp(t){return function(){return t}}function Lp(t,e,n,r,i,o){for(var a=0,u,l=e.length,s=o.length;a<s;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new $n(t,o[a]);for(;a<l;++a)(u=e[a])&&(i[a]=u)}function Xp(t,e,n,r,i,o,a){var u,l,s=new Map,c=e.length,f=o.length,h=new Array(c),p;for(u=0;u<c;++u)(l=e[u])&&(h[u]=p=a.call(l,l.__data__,u,e)+"",s.has(p)?i[u]=l:s.set(p,l));for(u=0;u<f;++u)p=a.call(t,o[u],u,o)+"",(l=s.get(p))?(r[u]=l,l.__data__=o[u],s.delete(p)):n[u]=new $n(t,o[u]);for(u=0;u<c;++u)(l=e[u])&&s.get(h[u])===l&&(i[u]=l)}function Rp(t){return t.__data__}function Bp(t,e){if(!arguments.length)return Array.from(this,Rp);var n=e?Xp:Lp,r=this._parents,i=this._groups;typeof t!="function"&&(t=qp(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var c=r[s],f=i[s],h=f.length,p=Dp(t.call(c,c&&c.__data__,s,r)),d=p.length,v=u[s]=new Array(d),w=a[s]=new Array(d),_=l[s]=new Array(h);n(c,f,v,w,_,p,e);for(var x=0,k=0,g,m;x<d;++x)if(g=v[x]){for(x>=k&&(k=x+1);!(m=w[k])&&++k<d;);g._next=m||null}}return a=new D(a,r),a._enter=u,a._exit=l,a}function Dp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yp(){return new D(this._exit||this._groups.map(mu),this._parents)}function Fp(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Vp(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var s=n[l],c=r[l],f=s.length,h=u[l]=new Array(f),p,d=0;d<f;++d)(p=s[d]||c[d])&&(h[d]=p);for(;l<i;++l)u[l]=n[l];return new D(u,this._parents)}function Hp(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Up(t){t||(t=Wp);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],u=a.length,l=i[o]=new Array(u),s,c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new D(i,this._parents).order()}function Wp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Zp(){return Array.from(this)}function Kp(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Qp(){let t=0;for(const e of this)++t;return t}function Jp(){return!this.node()}function td(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function ed(t){return function(){this.removeAttribute(t)}}function nd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rd(t,e){return function(){this.setAttribute(t,e)}}function id(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function od(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ad(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ud(t,e){var n=Vn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?nd:ed:typeof e=="function"?n.local?ad:od:n.local?id:rd)(n,e))}function wu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sd(t){return function(){this.style.removeProperty(t)}}function ld(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cd(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fd(t,e,n){return arguments.length>1?this.each((e==null?sd:typeof e=="function"?cd:ld)(t,e,n??"")):ie(this.node(),t)}function ie(t,e){return t.style.getPropertyValue(e)||wu(t).getComputedStyle(t,null).getPropertyValue(e)}function hd(t){return function(){delete this[t]}}function pd(t,e){return function(){this[t]=e}}function dd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gd(t,e){return arguments.length>1?this.each((e==null?hd:typeof e=="function"?dd:pd)(t,e)):this.node()[t]}function bu(t){return t.trim().split(/^|\s+/)}function yi(t){return t.classList||new xu(t)}function xu(t){this._node=t,this._names=bu(t.getAttribute("class")||"")}xu.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mu(t,e){for(var n=yi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ku(t,e){for(var n=yi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _d(t){return function(){Mu(this,t)}}function vd(t){return function(){ku(this,t)}}function yd(t,e){return function(){(e.apply(this,arguments)?Mu:ku)(this,t)}}function md(t,e){var n=bu(t+"");if(arguments.length<2){for(var r=yi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?yd:e?_d:vd)(n,e))}function wd(){this.textContent=""}function bd(t){return function(){this.textContent=t}}function xd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Md(t){return arguments.length?this.each(t==null?wd:(typeof t=="function"?xd:bd)(t)):this.node().textContent}function kd(){this.innerHTML=""}function Ad(t){return function(){this.innerHTML=t}}function jd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function $d(t){return arguments.length?this.each(t==null?kd:(typeof t=="function"?jd:Ad)(t)):this.node().innerHTML}function Nd(){this.nextSibling&&this.parentNode.appendChild(this)}function zd(){return this.each(Nd)}function Sd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ed(){return this.each(Sd)}function Od(t){var e=typeof t=="function"?t:gu(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Pd(){return null}function Td(t,e){var n=typeof t=="function"?t:gu(t),r=e==null?Pd:typeof e=="function"?e:vi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Id(){var t=this.parentNode;t&&t.removeChild(this)}function Cd(){return this.each(Id)}function qd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ld(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xd(t){return this.select(t?Ld:qd)}function Rd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Bd(t){return function(e){t.call(this,e,this.__data__)}}function Dd(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Yd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Fd(t,e,n){return function(){var r=this.__on,i,o=Bd(e);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Vd(t,e,n){var r=Dd(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(i=0,c=u[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(u=e?Fd:Yd,i=0;i<o;++i)this.each(u(r[i],e,n));return this}function Au(t,e,n){var r=wu(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Hd(t,e){return function(){return Au(this,t,e)}}function Ud(t,e){return function(){return Au(this,t,e.apply(this,arguments))}}function Wd(t,e){return this.each((typeof e=="function"?Ud:Hd)(t,e))}function*Gd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ju=[null];function D(t,e){this._groups=t,this._parents=e}function Re(){return new D([[document.documentElement]],ju)}function Zd(){return this}D.prototype=Re.prototype={constructor:D,select:xp,selectAll:jp,selectChild:Sp,selectChildren:Tp,filter:Ip,data:Bp,enter:Cp,exit:Yp,join:Fp,merge:Vp,selection:Zd,order:Hp,sort:Up,call:Gp,nodes:Zp,node:Kp,size:Qp,empty:Jp,each:td,attr:ud,style:fd,property:gd,classed:md,text:Md,html:$d,raise:zd,lower:Ed,append:Od,insert:Td,remove:Cd,clone:Xd,datum:Rd,on:Vd,dispatch:Wd,[Symbol.iterator]:Gd};function C(t){return typeof t=="string"?new D([[document.querySelector(t)]],[document.documentElement]):new D([[t]],ju)}function Kd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Lr(t,e){if(t=Kd(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Qd={passive:!1},Se={capture:!0,passive:!1};function pr(t){t.stopImmediatePropagation()}function Kt(t){t.preventDefault(),t.stopImmediatePropagation()}function Jd(t){var e=t.document.documentElement,n=C(t).on("dragstart.drag",Kt,Se);"onselectstart"in e?n.on("selectstart.drag",Kt,Se):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function t0(t,e){var n=t.document.documentElement,r=C(t).on("dragstart.drag",null);e&&(r.on("click.drag",Kt,Se),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ke=t=>()=>t;function Xr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:u,dx:l,dy:s,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:c}})}Xr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function e0(t){return!t.ctrlKey&&!t.button}function n0(){return this.parentNode}function r0(t,e){return e??{x:t.x,y:t.y}}function i0(){return navigator.maxTouchPoints||"ontouchstart"in this}function o0(){var t=e0,e=n0,n=r0,r=i0,i={},o=_i("start","drag","end"),a=0,u,l,s,c,f=0;function h(g){g.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",_,Qd).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(g,m){if(!(c||!t.call(this,g,m))){var E=k(this,e.call(this,g,m),g,m,"mouse");E&&(C(g.view).on("mousemove.drag",d,Se).on("mouseup.drag",v,Se),Jd(g.view),pr(g),s=!1,u=g.clientX,l=g.clientY,E("start",g))}}function d(g){if(Kt(g),!s){var m=g.clientX-u,E=g.clientY-l;s=m*m+E*E>f}i.mouse("drag",g)}function v(g){C(g.view).on("mousemove.drag mouseup.drag",null),t0(g.view,s),Kt(g),i.mouse("end",g)}function w(g,m){if(t.call(this,g,m)){var E=g.changedTouches,O=e.call(this,g,m),P=E.length,Y,F;for(Y=0;Y<P;++Y)(F=k(this,O,g,m,E[Y].identifier,E[Y]))&&(pr(g),F("start",g,E[Y]))}}function _(g){var m=g.changedTouches,E=m.length,O,P;for(O=0;O<E;++O)(P=i[m[O].identifier])&&(Kt(g),P("drag",g,m[O]))}function x(g){var m=g.changedTouches,E=m.length,O,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O=0;O<E;++O)(P=i[m[O].identifier])&&(pr(g),P("end",g,m[O]))}function k(g,m,E,O,P,Y){var F=o.copy(),y=Lr(Y||E,m),T,A,I;if((I=n.call(g,new Xr("beforestart",{sourceEvent:E,target:h,identifier:P,active:a,x:y[0],y:y[1],dx:0,dy:0,dispatch:F}),O))!=null)return T=I.x-y[0]||0,A=I.y-y[1]||0,function At(R,V,U){var z=y,cr;switch(R){case"start":i[P]=At,cr=a++;break;case"end":delete i[P],--a;case"drag":y=Lr(U||V,m),cr=a;break}F.call(R,g,new Xr(R,{sourceEvent:V,subject:I,target:h,identifier:P,active:cr,x:y[0]+T,y:y[1]+A,dx:y[0]-z[0],dy:y[1]-z[1],dispatch:F}),O)}}return h.filter=function(g){return arguments.length?(t=typeof g=="function"?g:Ke(!!g),h):t},h.container=function(g){return arguments.length?(e=typeof g=="function"?g:Ke(g),h):e},h.subject=function(g){return arguments.length?(n=typeof g=="function"?g:Ke(g),h):n},h.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Ke(!!g),h):r},h.on=function(){var g=o.on.apply(o,arguments);return g===o?h:g},h.clickDistance=function(g){return arguments.length?(f=(g=+g)*g,h):Math.sqrt(f)},h}function mi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $u(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Be(){}var Ee=.7,Nn=1/Ee,Qt="\\s*([+-]?\\d+)\\s*",Oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a0=/^#([0-9a-f]{3,8})$/,u0=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),s0=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),l0=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Oe}\\)$`),c0=new RegExp(`^rgba\\(${it},${it},${it},${Oe}\\)$`),f0=new RegExp(`^hsl\\(${Oe},${it},${it}\\)$`),h0=new RegExp(`^hsla\\(${Oe},${it},${it},${Oe}\\)$`),vo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mi(Be,Tt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yo,formatHex:yo,formatHex8:p0,formatHsl:d0,formatRgb:mo,toString:mo});function yo(){return this.rgb().formatHex()}function p0(){return this.rgb().formatHex8()}function d0(){return Nu(this).formatHsl()}function mo(){return this.rgb().formatRgb()}function Tt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=a0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wo(e):n===3?new X(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=u0.exec(t))?new X(e[1],e[2],e[3],1):(e=s0.exec(t))?new X(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=l0.exec(t))?Qe(e[1],e[2],e[3],e[4]):(e=c0.exec(t))?Qe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=f0.exec(t))?Mo(e[1],e[2]/100,e[3]/100,1):(e=h0.exec(t))?Mo(e[1],e[2]/100,e[3]/100,e[4]):vo.hasOwnProperty(t)?wo(vo[t]):t==="transparent"?new X(NaN,NaN,NaN,0):null}function wo(t){return new X(t>>16&255,t>>8&255,t&255,1)}function Qe(t,e,n,r){return r<=0&&(t=e=n=NaN),new X(t,e,n,r)}function g0(t){return t instanceof Be||(t=Tt(t)),t?(t=t.rgb(),new X(t.r,t.g,t.b,t.opacity)):new X}function Rr(t,e,n,r){return arguments.length===1?g0(t):new X(t,e,n,r??1)}function X(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mi(X,Rr,$u(Be,{brighter(t){return t=t==null?Nn:Math.pow(Nn,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new X(Et(this.r),Et(this.g),Et(this.b),zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bo,formatHex:bo,formatHex8:_0,formatRgb:xo,toString:xo}));function bo(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function _0(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function xo(){const t=zn(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function zn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zt(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function Mo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new K(t,e,n,r)}function Nu(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof Be||(t=Tt(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new K(a,u,l,t.opacity)}function v0(t,e,n,r){return arguments.length===1?Nu(t):new K(t,e,n,r??1)}function K(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mi(K,v0,$u(Be,{brighter(t){return t=t==null?Nn:Math.pow(Nn,t),new K(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new X(dr(t>=240?t-240:t+120,i,r),dr(t,i,r),dr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new K(ko(this.h),Je(this.s),Je(this.l),zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zn(this.opacity);return`${t===1?"hsl(":"hsla("}${ko(this.h)}, ${Je(this.s)*100}%, ${Je(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ko(t){return t=(t||0)%360,t<0?t+360:t}function Je(t){return Math.max(0,Math.min(1,t||0))}function dr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wi=t=>()=>t;function y0(t,e){return function(n){return t+n*e}}function m0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function w0(t){return(t=+t)==1?zu:function(e,n){return n-e?m0(e,n,t):wi(isNaN(e)?n:e)}}function zu(t,e){var n=e-t;return n?y0(t,n):wi(isNaN(t)?e:t)}const Sn=function t(e){var n=w0(e);function r(i,o){var a=n((i=Rr(i)).r,(o=Rr(o)).r),u=n(i.g,o.g),l=n(i.b,o.b),s=zu(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=u(c),i.b=l(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1);function b0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function x0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function M0(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=bi(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function k0(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function G(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function A0(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gr=new RegExp(Br.source,"g");function j0(t){return function(){return t}}function $0(t){return function(e){return t(e)+""}}function Su(t,e){var n=Br.lastIndex=gr.lastIndex=0,r,i,o,a=-1,u=[],l=[];for(t=t+"",e=e+"";(r=Br.exec(t))&&(i=gr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,l.push({i:a,x:G(r,i)})),n=gr.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?$0(l[0].x):j0(e):(e=l.length,function(s){for(var c=0,f;c<e;++c)u[(f=l[c]).i]=f.x(s);return u.join("")})}function bi(t,e){var n=typeof e,r;return e==null||n==="boolean"?wi(e):(n==="number"?G:n==="string"?(r=Tt(e))?(e=r,Sn):Su:e instanceof Tt?Sn:e instanceof Date?k0:x0(e)?b0:Array.isArray(e)?M0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?A0:G)(t,e)}function N0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ao=180/Math.PI,Eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ou(t,e,n,r,i,o){var a,u,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ao,skewX:Math.atan(l)*Ao,scaleX:a,scaleY:u}}var tn;function z0(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Eu:Ou(e.a,e.b,e.c,e.d,e.e,e.f)}function S0(t){return t==null||(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",t),!(t=tn.transform.baseVal.consolidate()))?Eu:(t=t.matrix,Ou(t.a,t.b,t.c,t.d,t.e,t.f))}function Pu(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,f,h,p,d){if(s!==f||c!==h){var v=p.push("translate(",null,e,null,n);d.push({i:v-4,x:G(s,f)},{i:v-2,x:G(c,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function a(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:G(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:G(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(s,c,f,h,p,d){if(s!==f||c!==h){var v=p.push(i(p)+"scale(",null,",",null,")");d.push({i:v-4,x:G(s,f)},{i:v-2,x:G(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=t(s),c=t(c),o(s.translateX,s.translateY,c.translateX,c.translateY,f,h),a(s.rotate,c.rotate,f,h),u(s.skewX,c.skewX,f,h),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(p){for(var d=-1,v=h.length,w;++d<v;)f[(w=h[d]).i]=w.x(p);return f.join("")}}}var E0=Pu(z0,"px, ","px)","deg)"),O0=Pu(S0,", ",")",")"),oe=0,be=0,ge=0,Tu=1e3,En,xe,On=0,It=0,Hn=0,Pe=typeof performance=="object"&&performance.now?performance:Date,Iu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xi(){return It||(Iu(P0),It=Pe.now()+Hn)}function P0(){It=0}function Pn(){this._call=this._time=this._next=null}Pn.prototype=Cu.prototype={constructor:Pn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xi():+n)+(e==null?0:+e),!this._next&&xe!==this&&(xe?xe._next=this:En=this,xe=this),this._call=t,this._time=n,Dr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dr())}};function Cu(t,e,n){var r=new Pn;return r.restart(t,e,n),r}function T0(){xi(),++oe;for(var t=En,e;t;)(e=It-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oe}function jo(){It=(On=Pe.now())+Hn,oe=be=0;try{T0()}finally{oe=0,C0(),It=0}}function I0(){var t=Pe.now(),e=t-On;e>Tu&&(Hn-=e,On=t)}function C0(){for(var t,e=En,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:En=n);xe=t,Dr(r)}function Dr(t){if(!oe){be&&(be=clearTimeout(be));var e=t-It;e>24?(t<1/0&&(be=setTimeout(jo,t-Pe.now()-Hn)),ge&&(ge=clearInterval(ge))):(ge||(On=Pe.now(),ge=setInterval(I0,Tu)),oe=1,Iu(jo))}}function $o(t,e,n){var r=new Pn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var q0=_i("start","end","cancel","interrupt"),L0=[],qu=0,No=1,Yr=2,hn=3,zo=4,Fr=5,pn=6;function Un(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;X0(t,n,{name:e,index:r,group:i,on:q0,tween:L0,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qu})}function Mi(t,e){var n=et(t,e);if(n.state>qu)throw new Error("too late; already scheduled");return n}function ut(t,e){var n=et(t,e);if(n.state>hn)throw new Error("too late; already running");return n}function et(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X0(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Cu(o,0,n.time);function o(s){n.state=No,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,f,h,p;if(n.state!==No)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===hn)return $o(a);p.state===zo?(p.state=pn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=pn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if($o(function(){n.state===hn&&(n.state=zo,n.timer.restart(u,n.delay,n.time),u(s))}),n.state=Yr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Yr){for(n.state=hn,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function u(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(l),n.state=Fr,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===Fr&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=pn,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function R0(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Yr&&r.state<Fr,r.state=pn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function B0(t){return this.each(function(){R0(this,t)})}function D0(t,e){var n,r;return function(){var i=ut(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Y0(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ut(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},l=0,s=i.length;l<s;++l)if(i[l].name===e){i[l]=u;break}l===s&&i.push(u)}o.tween=i}}function F0(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=et(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?D0:Y0)(n,t,e))}function ki(t,e,n){var r=t._id;return t.each(function(){var i=ut(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return et(i,r).value[e]}}function Lu(t,e){var n;return(typeof e=="number"?G:e instanceof Tt?Sn:(n=Tt(e))?(e=n,Sn):Su)(t,e)}function V0(t){return function(){this.removeAttribute(t)}}function H0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function U0(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function W0(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function G0(t,e,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u)))}}function Z0(t,e,n){var r,i,o;return function(){var a,u=n(this),l;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u)))}}function K0(t,e){var n=Vn(t),r=n==="transform"?O0:Lu;return this.attrTween(t,typeof e=="function"?(n.local?Z0:G0)(n,r,ki(this,"attr."+t,e)):e==null?(n.local?H0:V0)(n):(n.local?W0:U0)(n,r,e))}function Q0(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function J0(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&J0(t,o)),n}return i._value=e,i}function eg(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Q0(t,o)),n}return i._value=e,i}function ng(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Vn(t);return this.tween(n,(r.local?tg:eg)(r,e))}function rg(t,e){return function(){Mi(this,t).delay=+e.apply(this,arguments)}}function ig(t,e){return e=+e,function(){Mi(this,t).delay=e}}function og(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rg:ig)(e,t)):et(this.node(),e).delay}function ag(t,e){return function(){ut(this,t).duration=+e.apply(this,arguments)}}function ug(t,e){return e=+e,function(){ut(this,t).duration=e}}function sg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ag:ug)(e,t)):et(this.node(),e).duration}function lg(t,e){if(typeof e!="function")throw new Error;return function(){ut(this,t).ease=e}}function cg(t){var e=this._id;return arguments.length?this.each(lg(e,t)):et(this.node(),e).ease}function fg(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ut(this,t).ease=n}}function hg(t){if(typeof t!="function")throw new Error;return this.each(fg(this._id,t))}function pg(t){typeof t!="function"&&(t=vu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&t.call(l,l.__data__,s,o)&&u.push(l);return new dt(r,this._parents,this._name,this._id)}function dg(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l=e[u],s=n[u],c=l.length,f=a[u]=new Array(c),h,p=0;p<c;++p)(h=l[p]||s[p])&&(f[p]=h);for(;u<r;++u)a[u]=e[u];return new dt(a,this._parents,this._name,this._id)}function gg(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _g(t,e,n){var r,i,o=gg(e)?Mi:ut;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}function vg(t,e){var n=this._id;return arguments.length<2?et(this.node(),n).on.on(t):this.each(_g(n,t,e))}function yg(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function mg(){return this.on("end.remove",yg(this._id))}function wg(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vi(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],l=u.length,s=o[a]=new Array(l),c,f,h=0;h<l;++h)(c=u[h])&&(f=t.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,Un(s[h],e,n,h,s,et(c,n)));return new dt(o,this._parents,e,n)}function bg(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_u(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l=r[u],s=l.length,c,f=0;f<s;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),p,d=et(c,n),v=0,w=h.length;v<w;++v)(p=h[v])&&Un(p,e,n,v,h,d);o.push(h),a.push(c)}return new dt(o,a,e,n)}var xg=Re.prototype.constructor;function Mg(){return new xg(this._groups,this._parents)}function kg(t,e){var n,r,i;return function(){var o=ie(this,t),a=(this.style.removeProperty(t),ie(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Xu(t){return function(){this.style.removeProperty(t)}}function Ag(t,e,n){var r,i=n+"",o;return function(){var a=ie(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function jg(t,e,n){var r,i,o;return function(){var a=ie(this,t),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(t),ie(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u))}}function $g(t,e){var n,r,i,o="style."+e,a="end."+o,u;return function(){var l=ut(this,t),s=l.on,c=l.value[o]==null?u||(u=Xu(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),l.on=r}}function Ng(t,e,n){var r=(t+="")=="transform"?E0:Lu;return e==null?this.styleTween(t,kg(t,r)).on("end.style."+t,Xu(t)):typeof e=="function"?this.styleTween(t,jg(t,r,ki(this,"style."+t,e))).each($g(this._id,t)):this.styleTween(t,Ag(t,r,e),n).on("end.style."+t,null)}function zg(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Sg(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&zg(t,a,n)),r}return o._value=e,o}function Eg(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Sg(t,e,n??""))}function Og(t){return function(){this.textContent=t}}function Pg(t){return function(){var e=t(this);this.textContent=e??""}}function Tg(t){return this.tween("text",typeof t=="function"?Pg(ki(this,"text",t)):Og(t==null?"":t+""))}function Ig(t){return function(e){this.textContent=t.call(this,e)}}function Cg(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ig(i)),e}return r._value=t,r}function qg(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cg(t))}function Lg(){for(var t=this._name,e=this._id,n=Ru(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)if(l=a[s]){var c=et(l,e);Un(l,t,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dt(r,this._parents,t,n)}function Xg(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var u={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var s=ut(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),s.on=e}),i===0&&o()})}var Rg=0;function dt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ru(){return++Rg}var lt=Re.prototype;dt.prototype={constructor:dt,select:wg,selectAll:bg,selectChild:lt.selectChild,selectChildren:lt.selectChildren,filter:pg,merge:dg,selection:Mg,transition:Lg,call:lt.call,nodes:lt.nodes,node:lt.node,size:lt.size,empty:lt.empty,each:lt.each,on:vg,attr:K0,attrTween:ng,style:Ng,styleTween:Eg,text:Tg,textTween:qg,remove:mg,tween:F0,delay:og,duration:sg,ease:cg,easeVarying:hg,end:Xg,[Symbol.iterator]:lt[Symbol.iterator]};function Bg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dg={time:null,delay:0,duration:250,ease:Bg};function Yg(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Fg(t){var e,n;t instanceof dt?(e=t._id,t=t._name):(e=Ru(),(n=Dg).time=xi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&Un(l,t,e,s,a,n||Yg(l,e));return new dt(r,this._parents,t,e)}Re.prototype.interrupt=B0;Re.prototype.transition=Fg;const Vr=Math.PI,Hr=2*Vr,$t=1e-6,Vg=Hr-$t;function Bu(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Hg(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Bu;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Du{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Bu:Hg(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,l=r-e,s=i-n,c=a-e,f=u-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$t)if(!(Math.abs(f*l-s*c)>$t)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,d=i-u,v=l*l+s*s,w=p*p+d*d,_=Math.sqrt(v),x=Math.sqrt(h),k=o*Math.tan((Vr-Math.acos((v+h-w)/(2*_*x)))/2),g=k/x,m=k/_;Math.abs(g-1)>$t&&this._append`L${e+g*c},${n+g*f}`,this._append`A${o},${o},0,0,${+(f*p>c*d)},${this._x1=e+m*l},${this._y1=n+m*s}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),l=r*Math.sin(i),s=e+u,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>$t||Math.abs(this._y1-c)>$t)&&this._append`L${s},${c}`,r&&(h<0&&(h=h%Hr+Hr),h>Vg?this._append`A${r},${r},0,1,${f},${e-u},${n-l}A${r},${r},0,1,${f},${this._x1=s},${this._y1=c}`:h>$t&&this._append`A${r},${r},0,${+(h>=Vr)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nt(){return new Du}nt.prototype=Du.prototype;function Ug(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ae(t){return t=Tn(Math.abs(t)),t?t[1]:NaN}function Wg(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Gg(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function In(t){if(!(e=Zg.exec(t)))throw new Error("invalid format: "+t);var e;return new Ai({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}In.prototype=Ai.prototype;function Ai(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ai.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kg(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yu;function Qg(t,e){var n=Tn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tn(t,Math.max(0,e+o-1))[0]}function So(t,e){var n=Tn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Eo={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ug,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>So(t*100,e),r:So,s:Qg,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Oo(t){return t}var Po=Array.prototype.map,To=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jg(t){var e=t.grouping===void 0||t.thousands===void 0?Oo:Wg(Po.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Oo:Gg(Po.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(f){f=In(f);var h=f.fill,p=f.align,d=f.sign,v=f.symbol,w=f.zero,_=f.width,x=f.comma,k=f.precision,g=f.trim,m=f.type;m==="n"?(x=!0,m="g"):Eo[m]||(k===void 0&&(k=12),g=!0,m="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",O=v==="$"?r:/[%p]/.test(m)?a:"",P=Eo[m],Y=/[defgprs%]/.test(m);k=k===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(y){var T=E,A=O,I,At,R;if(m==="c")A=P(y)+A,y="";else{y=+y;var V=y<0||1/y<0;if(y=isNaN(y)?l:P(Math.abs(y),k),g&&(y=Kg(y)),V&&+y==0&&d!=="+"&&(V=!1),T=(V?d==="("?d:u:d==="-"||d==="("?"":d)+T,A=(m==="s"?To[8+Yu/3]:"")+A+(V&&d==="("?")":""),Y){for(I=-1,At=y.length;++I<At;)if(R=y.charCodeAt(I),48>R||R>57){A=(R===46?i+y.slice(I+1):y.slice(I))+A,y=y.slice(0,I);break}}}x&&!w&&(y=e(y,1/0));var U=T.length+y.length+A.length,z=U<_?new Array(_-U+1).join(h):"";switch(x&&w&&(y=e(z+y,z.length?_-A.length:1/0),z=""),p){case"<":y=T+y+A+z;break;case"=":y=T+z+y+A;break;case"^":y=z.slice(0,U=z.length>>1)+T+y+A+z.slice(U);break;default:y=z+T+y+A;break}return o(y)}return F.toString=function(){return f+""},F}function c(f,h){var p=s((f=In(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(ae(h)/3)))*3,v=Math.pow(10,-d),w=To[8+d/3];return function(_){return p(v*_)+w}}return{format:s,formatPrefix:c}}var en,Wn,Fu;t_({thousands:",",grouping:[3],currency:["$",""]});function t_(t){return en=Jg(t),Wn=en.format,Fu=en.formatPrefix,en}function e_(t){return Math.max(0,-ae(Math.abs(t)))}function n_(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ae(e)/3)))*3-ae(Math.abs(t)))}function r_(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ae(e)-ae(t))+1}function i_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function o_(t){return function(){return t}}function a_(t){return+t}var Io=[0,1];function Ut(t){return t}function Ur(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:o_(isNaN(e)?NaN:.5)}function u_(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function s_(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ur(i,r),o=n(a,o)):(r=Ur(r,i),o=n(o,a)),function(u){return o(r(u))}}function l_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ur(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var l=lp(t,u,1,r)-1;return o[l](i[l](u))}}function c_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function f_(){var t=Io,e=Io,n=bi,r,i,o,a=Ut,u,l,s;function c(){var h=Math.min(t.length,e.length);return a!==Ut&&(a=u_(t[0],t[h-1])),u=h>2?l_:s_,l=s=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=u(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((s||(s=u(e,t.map(r),G)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,a_),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=N0,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Ut,c()):a!==Ut},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function h_(){return f_()(Ut,Ut)}function p_(t,e,n,r){var i=dp(t,e,n),o;switch(r=In(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=n_(i,a))&&(r.precision=o),Fu(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=r_(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=e_(i))&&(r.precision=o-(r.type==="%")*2);break}}return Wn(r)}function d_(t){var e=t.domain;return t.ticks=function(n){var r=e();return pp(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return p_(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],l,s,c=10;for(u<a&&(s=a,a=u,u=s,s=i,i=o,o=s);c-- >0;){if(s=Cr(a,u,n),s===l)return r[i]=a,r[o]=u,e(r);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;l=s}return t},t}function ue(){var t=h_();return t.copy=function(){return c_(t,ue())},i_.apply(t,arguments),d_(t)}function Me(t,e,n){this.k=t,this.x=e,this.y=n}Me.prototype={constructor:Me,scale:function(t){return t===1?this:new Me(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Me(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Me.prototype;var Vu=typeof global=="object"&&global&&global.Object===Object&&global,g_=typeof self=="object"&&self&&self.Object===Object&&self,_t=Vu||g_||Function("return this")(),ot=_t.Symbol,Hu=Object.prototype,__=Hu.hasOwnProperty,v_=Hu.toString,_e=ot?ot.toStringTag:void 0;function y_(t){var e=__.call(t,_e),n=t[_e];try{t[_e]=void 0;var r=!0}catch{}var i=v_.call(t);return r&&(e?t[_e]=n:delete t[_e]),i}var m_=Object.prototype,w_=m_.toString;function b_(t){return w_.call(t)}var x_="[object Null]",M_="[object Undefined]",Co=ot?ot.toStringTag:void 0;function he(t){return t==null?t===void 0?M_:x_:Co&&Co in Object(t)?y_(t):b_(t)}function se(t){return t!=null&&typeof t=="object"}var k_="[object Symbol]";function Gn(t){return typeof t=="symbol"||se(t)&&he(t)==k_}function Uu(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Q=Array.isArray,qo=ot?ot.prototype:void 0,Lo=qo?qo.toString:void 0;function Wu(t){if(typeof t=="string")return t;if(Q(t))return Uu(t,Wu)+"";if(Gn(t))return Lo?Lo.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var A_=/\s/;function j_(t){for(var e=t.length;e--&&A_.test(t.charAt(e)););return e}var $_=/^\s+/;function N_(t){return t&&t.slice(0,j_(t)+1).replace($_,"")}function le(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xo=NaN,z_=/^[-+]0x[0-9a-f]+$/i,S_=/^0b[01]+$/i,E_=/^0o[0-7]+$/i,O_=parseInt;function P_(t){if(typeof t=="number")return t;if(Gn(t))return Xo;if(le(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=le(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=N_(t);var n=S_.test(t);return n||E_.test(t)?O_(t.slice(2),n?2:8):z_.test(t)?Xo:+t}var T_=1/0,I_=17976931348623157e292;function _r(t){if(!t)return t===0?t:0;if(t=P_(t),t===T_||t===-1/0){var e=t<0?-1:1;return e*I_}return t===t?t:0}function C_(t){return t}var q_="[object AsyncFunction]",L_="[object Function]",X_="[object GeneratorFunction]",R_="[object Proxy]";function Gu(t){if(!le(t))return!1;var e=he(t);return e==L_||e==X_||e==q_||e==R_}var vr=_t["__core-js_shared__"],Ro=function(){var t=/[^.]+$/.exec(vr&&vr.keys&&vr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B_(t){return!!Ro&&Ro in t}var D_=Function.prototype,Y_=D_.toString;function Bt(t){if(t!=null){try{return Y_.call(t)}catch{}try{return t+""}catch{}}return""}var F_=/[\\^$.*+?()[\]{}|]/g,V_=/^\[object .+?Constructor\]$/,H_=Function.prototype,U_=Object.prototype,W_=H_.toString,G_=U_.hasOwnProperty,Z_=RegExp("^"+W_.call(G_).replace(F_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K_(t){if(!le(t)||B_(t))return!1;var e=Gu(t)?Z_:V_;return e.test(Bt(t))}function Q_(t,e){return t?.[e]}function pe(t,e){var n=Q_(t,e);return K_(n)?n:void 0}var Wr=pe(_t,"WeakMap"),J_=9007199254740991,tv=/^(?:0|[1-9]\d*)$/;function ji(t,e){var n=typeof t;return e=e??J_,!!e&&(n=="number"||n!="symbol"&&tv.test(t))&&t>-1&&t%1==0&&t<e}function $i(t,e){return t===e||t!==t&&e!==e}var ev=9007199254740991;function Ni(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ev}function Zn(t){return t!=null&&Ni(t.length)&&!Gu(t)}function nv(t,e,n){if(!le(n))return!1;var r=typeof e;return(r=="number"?Zn(n)&&ji(e,n.length):r=="string"&&e in n)?$i(n[e],t):!1}var rv=Object.prototype;function iv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rv;return t===n}function ov(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var av="[object Arguments]";function Bo(t){return se(t)&&he(t)==av}var Zu=Object.prototype,uv=Zu.hasOwnProperty,sv=Zu.propertyIsEnumerable,zi=Bo(function(){return arguments}())?Bo:function(t){return se(t)&&uv.call(t,"callee")&&!sv.call(t,"callee")};function lv(){return!1}var Ku=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Do=Ku&&typeof module=="object"&&module&&!module.nodeType&&module,cv=Do&&Do.exports===Ku,Yo=cv?_t.Buffer:void 0,fv=Yo?Yo.isBuffer:void 0,Gr=fv||lv,hv="[object Arguments]",pv="[object Array]",dv="[object Boolean]",gv="[object Date]",_v="[object Error]",vv="[object Function]",yv="[object Map]",mv="[object Number]",wv="[object Object]",bv="[object RegExp]",xv="[object Set]",Mv="[object String]",kv="[object WeakMap]",Av="[object ArrayBuffer]",jv="[object DataView]",$v="[object Float32Array]",Nv="[object Float64Array]",zv="[object Int8Array]",Sv="[object Int16Array]",Ev="[object Int32Array]",Ov="[object Uint8Array]",Pv="[object Uint8ClampedArray]",Tv="[object Uint16Array]",Iv="[object Uint32Array]",j={};j[$v]=j[Nv]=j[zv]=j[Sv]=j[Ev]=j[Ov]=j[Pv]=j[Tv]=j[Iv]=!0;j[hv]=j[pv]=j[Av]=j[dv]=j[jv]=j[gv]=j[_v]=j[vv]=j[yv]=j[mv]=j[wv]=j[bv]=j[xv]=j[Mv]=j[kv]=!1;function Cv(t){return se(t)&&Ni(t.length)&&!!j[he(t)]}function qv(t){return function(e){return t(e)}}var Qu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ke=Qu&&typeof module=="object"&&module&&!module.nodeType&&module,Lv=ke&&ke.exports===Qu,yr=Lv&&Vu.process,Fo=function(){try{var t=ke&&ke.require&&ke.require("util").types;return t||yr&&yr.binding&&yr.binding("util")}catch{}}(),Vo=Fo&&Fo.isTypedArray,Ju=Vo?qv(Vo):Cv,Xv=Object.prototype,Rv=Xv.hasOwnProperty;function Bv(t,e){var n=Q(t),r=!n&&zi(t),i=!n&&!r&&Gr(t),o=!n&&!r&&!i&&Ju(t),a=n||r||i||o,u=a?ov(t.length,String):[],l=u.length;for(var s in t)Rv.call(t,s)&&!(a&&(s=="length"||i&&(s=="offset"||s=="parent")||o&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||ji(s,l)))&&u.push(s);return u}function Dv(t,e){return function(n){return t(e(n))}}var Yv=Dv(Object.keys,Object),Fv=Object.prototype,Vv=Fv.hasOwnProperty;function Hv(t){if(!iv(t))return Yv(t);var e=[];for(var n in Object(t))Vv.call(t,n)&&n!="constructor"&&e.push(n);return e}function Si(t){return Zn(t)?Bv(t):Hv(t)}var Uv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wv=/^\w*$/;function Ei(t,e){if(Q(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Gn(t)?!0:Wv.test(t)||!Uv.test(t)||e!=null&&t in Object(e)}var Te=pe(Object,"create");function Gv(){this.__data__=Te?Te(null):{},this.size=0}function Zv(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Kv="__lodash_hash_undefined__",Qv=Object.prototype,Jv=Qv.hasOwnProperty;function ty(t){var e=this.__data__;if(Te){var n=e[t];return n===Kv?void 0:n}return Jv.call(e,t)?e[t]:void 0}var ey=Object.prototype,ny=ey.hasOwnProperty;function ry(t){var e=this.__data__;return Te?e[t]!==void 0:ny.call(e,t)}var iy="__lodash_hash_undefined__";function oy(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Te&&e===void 0?iy:e,this}function Ct(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ct.prototype.clear=Gv;Ct.prototype.delete=Zv;Ct.prototype.get=ty;Ct.prototype.has=ry;Ct.prototype.set=oy;function ay(){this.__data__=[],this.size=0}function Kn(t,e){for(var n=t.length;n--;)if($i(t[n][0],e))return n;return-1}var uy=Array.prototype,sy=uy.splice;function ly(t){var e=this.__data__,n=Kn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():sy.call(e,n,1),--this.size,!0}function cy(t){var e=this.__data__,n=Kn(e,t);return n<0?void 0:e[n][1]}function fy(t){return Kn(this.__data__,t)>-1}function hy(t,e){var n=this.__data__,r=Kn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function vt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vt.prototype.clear=ay;vt.prototype.delete=ly;vt.prototype.get=cy;vt.prototype.has=fy;vt.prototype.set=hy;var Ie=pe(_t,"Map");function py(){this.size=0,this.__data__={hash:new Ct,map:new(Ie||vt),string:new Ct}}function dy(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Qn(t,e){var n=t.__data__;return dy(e)?n[typeof e=="string"?"string":"hash"]:n.map}function gy(t){var e=Qn(this,t).delete(t);return this.size-=e?1:0,e}function _y(t){return Qn(this,t).get(t)}function vy(t){return Qn(this,t).has(t)}function yy(t,e){var n=Qn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yt.prototype.clear=py;yt.prototype.delete=gy;yt.prototype.get=_y;yt.prototype.has=vy;yt.prototype.set=yy;var my="Expected a function";function Oi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(my);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Oi.Cache||yt),n}Oi.Cache=yt;var wy=500;function by(t){var e=Oi(t,function(r){return n.size===wy&&n.clear(),r}),n=e.cache;return e}var xy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,My=/\\(\\)?/g,ky=by(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(xy,function(n,r,i,o){e.push(i?o.replace(My,"$1"):r||n)}),e});function Ay(t){return t==null?"":Wu(t)}function ts(t,e){return Q(t)?t:Ei(t,e)?[t]:ky(Ay(t))}function Jn(t){if(typeof t=="string"||Gn(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function es(t,e){e=ts(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Jn(e[n++])];return n&&n==r?t:void 0}function jy(t,e,n){var r=t==null?void 0:es(t,e);return r===void 0?n:r}function ns(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Ho=ot?ot.isConcatSpreadable:void 0;function $y(t){return Q(t)||zi(t)||!!(Ho&&t&&t[Ho])}function Ny(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=$y),i||(i=[]);++o<a;){var u=t[o];n(u)?ns(i,u):i[i.length]=u}return i}function zy(t){var e=t==null?0:t.length;return e?Ny(t):[]}function Sy(){this.__data__=new vt,this.size=0}function Ey(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Oy(t){return this.__data__.get(t)}function Py(t){return this.__data__.has(t)}var Ty=200;function Iy(t,e){var n=this.__data__;if(n instanceof vt){var r=n.__data__;if(!Ie||r.length<Ty-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yt(r)}return n.set(t,e),this.size=n.size,this}function ft(t){var e=this.__data__=new vt(t);this.size=e.size}ft.prototype.clear=Sy;ft.prototype.delete=Ey;ft.prototype.get=Oy;ft.prototype.has=Py;ft.prototype.set=Iy;function Cy(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function qy(){return[]}var Ly=Object.prototype,Xy=Ly.propertyIsEnumerable,Uo=Object.getOwnPropertySymbols,Ry=Uo?function(t){return t==null?[]:(t=Object(t),Cy(Uo(t),function(e){return Xy.call(t,e)}))}:qy;function By(t,e,n){var r=e(t);return Q(t)?r:ns(r,n(t))}function Wo(t){return By(t,Si,Ry)}var Zr=pe(_t,"DataView"),Kr=pe(_t,"Promise"),Qr=pe(_t,"Set"),Go="[object Map]",Dy="[object Object]",Zo="[object Promise]",Ko="[object Set]",Qo="[object WeakMap]",Jo="[object DataView]",Yy=Bt(Zr),Fy=Bt(Ie),Vy=Bt(Kr),Hy=Bt(Qr),Uy=Bt(Wr),xt=he;(Zr&&xt(new Zr(new ArrayBuffer(1)))!=Jo||Ie&&xt(new Ie)!=Go||Kr&&xt(Kr.resolve())!=Zo||Qr&&xt(new Qr)!=Ko||Wr&&xt(new Wr)!=Qo)&&(xt=function(t){var e=he(t),n=e==Dy?t.constructor:void 0,r=n?Bt(n):"";if(r)switch(r){case Yy:return Jo;case Fy:return Go;case Vy:return Zo;case Hy:return Ko;case Uy:return Qo}return e});var ta=_t.Uint8Array,Wy="__lodash_hash_undefined__";function Gy(t){return this.__data__.set(t,Wy),this}function Zy(t){return this.__data__.has(t)}function Cn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yt;++e<n;)this.add(t[e])}Cn.prototype.add=Cn.prototype.push=Gy;Cn.prototype.has=Zy;function Ky(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Qy(t,e){return t.has(e)}var Jy=1,t1=2;function rs(t,e,n,r,i,o){var a=n&Jy,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var s=o.get(t),c=o.get(e);if(s&&c)return s==e&&c==t;var f=-1,h=!0,p=n&t1?new Cn:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var d=t[f],v=e[f];if(r)var w=a?r(v,d,f,e,t,o):r(d,v,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Ky(e,function(_,x){if(!Qy(p,x)&&(d===_||i(d,_,n,r,o)))return p.push(x)})){h=!1;break}}else if(!(d===v||i(d,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function e1(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function n1(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var r1=1,i1=2,o1="[object Boolean]",a1="[object Date]",u1="[object Error]",s1="[object Map]",l1="[object Number]",c1="[object RegExp]",f1="[object Set]",h1="[object String]",p1="[object Symbol]",d1="[object ArrayBuffer]",g1="[object DataView]",ea=ot?ot.prototype:void 0,mr=ea?ea.valueOf:void 0;function _1(t,e,n,r,i,o,a){switch(n){case g1:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case d1:return!(t.byteLength!=e.byteLength||!o(new ta(t),new ta(e)));case o1:case a1:case l1:return $i(+t,+e);case u1:return t.name==e.name&&t.message==e.message;case c1:case h1:return t==e+"";case s1:var u=e1;case f1:var l=r&r1;if(u||(u=n1),t.size!=e.size&&!l)return!1;var s=a.get(t);if(s)return s==e;r|=i1,a.set(t,e);var c=rs(u(t),u(e),r,i,o,a);return a.delete(t),c;case p1:if(mr)return mr.call(t)==mr.call(e)}return!1}var v1=1,y1=Object.prototype,m1=y1.hasOwnProperty;function w1(t,e,n,r,i,o){var a=n&v1,u=Wo(t),l=u.length,s=Wo(e),c=s.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=u[f];if(!(a?h in e:m1.call(e,h)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=u[f];var _=t[h],x=e[h];if(r)var k=a?r(x,_,h,e,t,o):r(_,x,h,t,e,o);if(!(k===void 0?_===x||i(_,x,n,r,o):k)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof m=="function"&&m instanceof m)&&(v=!1)}return o.delete(t),o.delete(e),v}var b1=1,na="[object Arguments]",ra="[object Array]",nn="[object Object]",x1=Object.prototype,ia=x1.hasOwnProperty;function M1(t,e,n,r,i,o){var a=Q(t),u=Q(e),l=a?ra:xt(t),s=u?ra:xt(e);l=l==na?nn:l,s=s==na?nn:s;var c=l==nn,f=s==nn,h=l==s;if(h&&Gr(t)){if(!Gr(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ft),a||Ju(t)?rs(t,e,n,r,i,o):_1(t,e,l,n,r,i,o);if(!(n&b1)){var p=c&&ia.call(t,"__wrapped__"),d=f&&ia.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,w=d?e.value():e;return o||(o=new ft),i(v,w,n,r,o)}}return h?(o||(o=new ft),w1(t,e,n,r,i,o)):!1}function Pi(t,e,n,r,i){return t===e?!0:t==null||e==null||!se(t)&&!se(e)?t!==t&&e!==e:M1(t,e,n,r,Pi,i)}var k1=1,A1=2;function j1(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var u=a[0],l=t[u],s=a[1];if(a[2]){if(l===void 0&&!(u in t))return!1}else{var c=new ft,f;if(!(f===void 0?Pi(s,l,k1|A1,r,c):f))return!1}}return!0}function is(t){return t===t&&!le(t)}function $1(t){for(var e=Si(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,is(i)]}return e}function os(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function N1(t){var e=$1(t);return e.length==1&&e[0][2]?os(e[0][0],e[0][1]):function(n){return n===t||j1(n,t,e)}}function z1(t,e){return t!=null&&e in Object(t)}function S1(t,e,n){e=ts(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Jn(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Ni(i)&&ji(a,i)&&(Q(t)||zi(t)))}function E1(t,e){return t!=null&&S1(t,e,z1)}var O1=1,P1=2;function T1(t,e){return Ei(t)&&is(e)?os(Jn(t),e):function(n){var r=jy(n,t);return r===void 0&&r===e?E1(n,t):Pi(e,r,O1|P1)}}function I1(t){return function(e){return e?.[t]}}function C1(t){return function(e){return es(e,t)}}function q1(t){return Ei(t)?I1(Jn(t)):C1(t)}function L1(t){return typeof t=="function"?t:t==null?C_:typeof t=="object"?Q(t)?T1(t[0],t[1]):N1(t):q1(t)}function X1(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var R1=X1();function B1(t,e){return t&&R1(t,e,Si)}function D1(t,e){return function(n,r){if(n==null)return n;if(!Zn(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}}var Y1=D1(B1);function F1(t,e){var n=-1,r=Zn(t)?Array(t.length):[];return Y1(t,function(i,o,a){r[++n]=e(i,o,a)}),r}function oa(t,e){var n=Q(t)?Uu:F1;return n(t,L1(e))}var V1=Math.ceil,H1=Math.max;function U1(t,e,n,r){for(var i=-1,o=H1(V1((e-t)/(n||1)),0),a=Array(o);o--;)a[++i]=t,t+=n;return a}function W1(t){return function(e,n,r){return r&&typeof r!="number"&&nv(e,n,r)&&(n=r=void 0),e=_r(e),n===void 0?(n=e,e=0):n=_r(n),r=r===void 0?e<n?1:-1:_r(r),U1(e,n,r)}}var G1=W1();const Z1=(t,e,n=12,r=12)=>{const i=ue().domain([0,n]).range([0,t]),o=ue().domain([0,r]).range([0,e]);return{points:function(){return G1((n+1)*(r+1)).map(function(a){return{m:a%(n+1),n:Math.floor(a/(n+1)),x:i(a%(n+1)),y:o(Math.floor(a/(n+1)))}})},position:function(a,u){typeof a=="number"&&(a=[a]),typeof u=="number"&&(u=[u]);const l=zy(oa(u,function(s){return oa(a,function(c){return{x:i(c),y:o(s)}})}));return l.length==1?l[0]:l}}},K1="_widget_9wct0_49",Q1="_label_9wct0_69",J1="_lit_9wct0_74",tm="_button_9wct0_78",em="_symbol_9wct0_78",nm="_radio_9wct0_79",rm="_radiobutton_9wct0_79",im="_selected_9wct0_85",om="_toggle_9wct0_86",am="_slider_9wct0_95",um="_track_9wct0_95",sm="_track_overlay_9wct0_100",lm="_handle_9wct0_108",b={widget:K1,label:Q1,lit:J1,button:tm,symbol:em,radio:nm,radiobutton:rm,selected:im,toggle:om,slider:am,track:um,track_overlay:sm,handle:lm},Ti=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890",e=t.length;let n="";for(let r=0;r<10;++r)n+=t[Math.floor(Math.random()*e)];return n},Ii=(t,e,n)=>{var r,i,o,a;switch(n){case"top":r=0,i=-e/2-5,o="middle",a="bottom";break;case"bottom":r=0,i=e/2+5,o="middle",a="hanging";break;case"left":r=-t/2-5,i=0,o="end",a="middle";break;case"right":r=t/2+5,i=0,o="start",a="middle";break;default:r=0,i=e/2+5,o="middle",a="hanging"}return{x:r,y:i,anchor:o,valign:a}},cm=(t=1)=>{const e=nt();return e.moveTo(t*1,t*0),e.lineTo(t*-.5,t*(Math.sqrt(3)/2)),e.lineTo(t*-.5,t*(-Math.sqrt(3)/2)),e.closePath(),e.toString()},fm=(t=1)=>{const e=nt(),n=.7;return e.moveTo(n*t*(1+.75),n*t*0),e.lineTo(n*t*(-.5+.75),n*t*(Math.sqrt(3)/2)),e.lineTo(n*t*(-.5+.75),n*t*(-Math.sqrt(3)/2)),e.closePath(),e.moveTo(n*t*(1-.75),n*t*0),e.lineTo(n*t*(-.5-.75),n*t*(Math.sqrt(3)/2)),e.lineTo(n*t*(-.5-.75),n*t*(-Math.sqrt(3)/2)),e.closePath(),e.toString()},hm=(t=1)=>{const e=nt();return e.moveTo(-t*1,t*0),e.lineTo(t*.5,t*(Math.sqrt(3)/2)),e.lineTo(t*.5,t*(-Math.sqrt(3)/2)),e.closePath(),e.toString()},pm=(t=1)=>{const e=.3333333333333333,n=.9;var r=nt();return r.moveTo(t*n,t*n),r.lineTo(t*n,t*-.9),r.lineTo(t*(n*e),t*-.9),r.lineTo(t*(n*e),t*n),r.closePath(),r.moveTo(-t*n,t*n),r.lineTo(-t*n,t*-.9),r.lineTo(-t*(n*e),t*-.9),r.lineTo(-t*(n*e),t*n),r.closePath(),r.toString()},dm=(t=1)=>{const e=nt(),n=Math.PI/2.5,r=n/2,i=2*Math.PI-n/2,o=.5,a=.6,u=.6,l=[t*(1-o/2)*Math.cos(i),t*(1-o/2)*Math.sin(i)],s=[t*u*Math.cos(i+Math.PI/2),t*u*Math.sin(i+Math.PI/2)];return e.moveTo(t*Math.cos(i),t*Math.sin(i)),e.arc(0,0,t,i,r,!0),e.lineTo(t*(1-o)*Math.cos(r),t*(1-o)*Math.sin(r)),e.arc(0,0,t*(1-o),r,i,!1),e.lineTo(t*(1-a-o/2)*Math.cos(i),t*(1-a-o/2)*Math.sin(i)),e.lineTo(l[0]+s[0],l[1]+s[1]),e.lineTo(t*(1+a-o/2)*Math.cos(i),t*(1+a-o/2)*Math.sin(i)),e.closePath(),e.toString()},gm=(t=1)=>{const e=nt(),n=Math.PI/10,r=t/2,i=Math.PI-n,o=n,a=-n,u=Math.PI+n;return e.arc(0,0,r,u,a),e.lineTo(t,r*Math.sin(u)),e.lineTo(t,-t),e.lineTo(-t,-t),e.lineTo(-t,r*Math.sin(u)),e.closePath(),e.arc(0,0,r,o,i),e.lineTo(-t,r*Math.sin(i)),e.lineTo(-t,t),e.lineTo(t,t),e.lineTo(t,r*Math.sin(i)),e.closePath(),e.toString()},_m=(t=1)=>{const e=nt(),n=Math.PI/2.5,r=n/2+Math.PI,i=2*Math.PI-n/2+Math.PI,o=.5,a=.6,u=-.6;e.moveTo(t*Math.cos(r),t*Math.sin(r)),e.arc(0,0,t,r,i,!1),e.lineTo(t*(1-o)*Math.cos(i),t*(1-o)*Math.sin(i)),e.arc(0,0,t*(1-o),i,r,!0),e.lineTo(t*(1-a-o/2)*Math.cos(r),t*(1-a-o/2)*Math.sin(r));var l=[t*(1-o/2)*Math.cos(r),t*(1-o/2)*Math.sin(r)],s=[t*u*Math.cos(r+Math.PI/2),t*u*Math.sin(r+Math.PI/2)];return e.lineTo(l[0]+s[0],l[1]+s[1]),e.lineTo(t*(1+a-o/2)*Math.cos(r),t*(1+a-o/2)*Math.sin(r)),e.closePath(),e.toString()},vm=(t=1)=>{var e=nt(),n=.9;return e.moveTo(t*n,t*n),e.lineTo(t*-.9,t*n),e.lineTo(t*-.9,t*-.9),e.lineTo(t*n,t*-.9),e.closePath(),e.toString()},ym=(t=1)=>{const e=nt(),n=0,r=2*Math.PI;return e.moveTo(t*Math.cos(n),t*Math.sin(n)),e.arc(0,0,t,n,r,!0),e.closePath(),e.toString()},Jr=t=>{switch(t){case"play":return cm;case"forward":return fm;case"back":return hm;case"pause":return pm;case"reload":return dm;case"capture":return gm;case"rewind":return _m;case"stop":return vm;case"push":return ym}},Ci=()=>{const t="button";var e=Ti(),n=50,r=.3,i="round",o={x:0,y:0},a=null,u="bottom",l=null,s=function(h){},c=["play"],f=0;return{type:t,id:function(h){return typeof h>"u"?e:(e=h,this)},size:function(h){return typeof h>"u"?n:(n=h,this)},symbolsize:function(h){return typeof h>"u"?r:(r=h,this)},shape:function(h){return typeof h>"u"?i:(i=h,this)},position:function(h){return typeof h>"u"?o:(o=h,this)},x:function(h){return typeof h>"u"?o.x:(o.x=h,this)},y:function(h){return typeof h>"u"?o.y:(o.y=h,this)},label:function(h){return typeof h>"u"?a:(a=h,this)},labelposition:function(h){return typeof h>"u"?u:(u=h,this)},fontsize:function(h){return typeof h>"u"?l:(l=h,this)},update:function(h){if(typeof h=="function")return s=h,this;s(h)},actions:function(h){return typeof h>"u"?c:(c=h,this)},value:function(h){return typeof h>"u"?f:(f=h,this)},click:function(){f=(f+1)%c.length,s(),C(this.parentNode).select("."+b.symbol).attr("d",Jr(c[f])(r*n))},press:function(h){f=(f+1)%c.length,s(),h.select("#button_"+e).select("."+b.symbol).attr("d",Jr(c[f])(r*n))}}},mm=()=>{const t="slider",e=Wn(".3f");var n=Ti(),r=100,i=8,o=10,a=!1,u={x:0,y:0},l="top-left",s=null,c=function(_){},f=function(_){},h=[0,1],p=0,d=null,v=ue().domain(h).range([0,r]).clamp(!0);const w=function(_,x,k=h){const g=_.select("#slider_"+n);v.domain(k),p=x,g.selectAll("."+b.handle).transition().attr("cx",v(x)),a&&g.select("."+b.label).text(d+" = "+e(p)),c(),f()};return{type:t,scale:v,id:function(_){return typeof _>"u"?n:(n=_,this)},label:function(_){return typeof _>"u"?d:(d=_,this)},size:function(_){return typeof _>"u"?r:(r=_,this)},girth:function(_){return typeof _>"u"?i:(i=_,this)},knob:function(_){return typeof _>"u"?o:(o=_,this)},show:function(_){return typeof _>"u"?a:(a=_,this)},position:function(_){return typeof _>"u"?u:(u=_,this)},x:function(_){return typeof _>"u"?u.x:(u.x=_,this)},y:function(_){return typeof _>"u"?u.y:(u.y=_,this)},labelposition:function(_){return typeof _>"u"?l:(l=_,this)},fontsize:function(_){return typeof _>"u"?s:(s=_,this)},update:function(_){if(typeof _=="function")return c=_,this;c(_)},update_end:function(_){if(typeof _=="function")return f=_,this;f(_)},range:function(_){return typeof _>"u"?h:(h=_,this)},value:function(_){return typeof _>"u"?p:(p=_,this)},reset:w,click:w}},wm=()=>{const t="toggle";var e=Ti(),n=10,r={x:0,y:0},i=null,o="top",a=null,u=function(s){},l=0;return{type:t,id:function(s){return typeof s>"u"?e:(e=s,this)},size:function(s){return typeof s>"u"?n:(n=s,this)},position:function(s){return typeof s>"u"?r:(r=s,this)},x:function(s){return typeof s>"u"?r.x:(r.x=s,this)},y:function(s){return typeof s>"u"?r.y:(r.y=s,this)},label:function(s){return typeof s>"u"?i:(i=s,this)},labelposition:function(s){return typeof s>"u"?o:(o=s,this)},fontsize:function(s){return typeof s>"u"?a:(a=s,this)},update:function(s){if(typeof s=="function")return u=s,this;u(s)},value:function(s){return typeof s>"u"?l:(l=s,this)},click:function(){l=!l;const s=C(this.parentNode);s.select("."+b.handle).transition().attr("cx",l?2*n:0),s.classed(b.selected,l),u()},reset:function(s,c){l=c;const f=s.select("#toggle_"+e);f.selectAll("."+b.handle).transition().attr("cx",l?2*n:0),f.classed(b.selected,l),u()}}},bm=(t,e)=>{const n="button_"+t.id(),r=t.label(),i=t.labelposition(),o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=C(o).attr("class",b.widget+" "+b.button).attr("id",n).attr("transform","translate("+t.x()+","+t.y()+")");var u;if(t.shape()=="rect"?u=a.append("rect").attr("width",t.size()).attr("height",t.size()).attr("transform","translate("+-t.size()/2+","+-t.size()/2+")").attr("rx",5).attr("ry",5):u=a.append("circle").attr("r",t.size()/2),u.attr("class",b.background).on("click",t.click).on("mouseover",function(){C(this).classed(b.lit,!0),C(this.parentNode).select("."+b.symbol).classed(b.lit,!0)}).on("mouseout",function(){C(this).classed(b.lit,!1),C(this.parentNode).select("."+b.symbol).classed(b.lit,!1)}),a.append("path").attr("d",Jr(t.actions()[t.value()])(t.symbolsize()*t.size())).attr("class",b.symbol),r){const l=Ii(t.size(),t.size(),i);a.append("text").text(r).attr("class",b.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+l.x+","+l.y+")")}return o},as=(t,e)=>{const n=nt();return n.moveTo(0,e/2),n.arc(0,0,e/2,Math.PI/2,3*Math.PI/2,!1),n.lineTo(t,-e/2),n.arc(t,0,e/2,3*Math.PI/2,2*Math.PI+Math.PI/2,!1),n.closePath(),n.toString()},xm=(t,e)=>{const n=Wn(".3f"),r="slider_"+t.id();t.labelposition();const i=t.range,o=t.size();t.label();const a=t.scale;var u;const l=document.createElementNS("http://www.w3.org/2000/svg","g");u=C(l).attr("class",b.widget+" "+b.slider).attr("id",r).attr("transform","translate("+t.x()+","+t.y()+")"),a.domain(i()).range([0,o]).clamp(!0);const s=t.knob()>t.girth()?t.knob():t.girth()/2;u.append("path").attr("d",as(t.size(),t.girth())).attr("class",b.track),u.append("circle").attr("class",b.handle).attr("r",t.knob()).attr("cx",a(t.value())),u.append("rect").attr("width",t.size()+2*s).attr("height",2*s).attr("transform","translate("+-s+","+-s+")").attr("class",b.track_overlay).on("click",function(d){const v=Lr(d,this)[0];t.value(a.invert(v)),t.update(),t.update_end(),u.selectAll("."+b.handle).attr("cx",a(t.value())),t.show()&&u.select("."+b.label).text(t.label()+" = "+n(t.value()))}).call(o0().on("drag",function(d){t.value(a.invert(d.x)),t.update(),u.selectAll("."+b.handle).attr("cx",a(t.value())),t.show()&&u.select("."+b.label).text(t.label()+" = "+n(t.value()))}).on("end",function(d){t.update_end()}));var c,f,h,p="bottom";return t.fontsize&&(f=t.labelposition().match(/bottom/i)!=null?Ze([t.girth()/2,t.knob()])+t.fontsize()/2:-Ze([t.girth()/2,t.knob()])-t.fontsize()/2),f=t.labelposition().match(/bottom/i)!=null?Ze([t.girth()/2,t.knob()])+7:-Ze([t.girth()/2,t.knob()])-7,c=t.labelposition().match(/right/i)!=null?t.size():t.labelposition().match(/center/i)!=null?t.size()/2:0,h=t.labelposition().match(/right/i)!=null?"end":t.labelposition().match(/center/i)!=null?"middle":"start",p=t.labelposition().match(/bottom/i)!=null?"hanging":"top",u.append("text").text(t.show()?t.label()+" = "+n(t.value()):t.label()).attr("class",b.label).style("text-anchor",h).style("alignment-baseline",p).style("font-size",t.fontsize()).style("opacity",1).attr("transform","translate("+c+","+f+")"),l},Mm=(t,e)=>{const n="toggle_"+t.id(),r=t.size(),i=t.label(),o=t.labelposition(),a=document.createElementNS("http://www.w3.org/2000/svg","g"),u=C(a).attr("class",b.widget+" "+b.toggle).attr("id",n).attr("transform","translate("+(t.x()-r)+","+t.y()+")").classed(b.selected,t.value()==1);if(u.append("path").attr("d",as(2*t.size(),2*t.size())).attr("class",b.track),u.append("circle").attr("class",b.handle).attr("r",r).attr("cx",t.value()?2*r:0),u.append("rect").attr("width",4*t.size()).attr("height",2*t.size()).attr("class",b.track_overlay).attr("transform","translate("+-t.size()+","+-t.size()+")").on("click",t.click),i){const l=Ii(4*t.size(),2*t.size(),o);u.append("text").text(i).attr("class",b.label).style("text-anchor",l.anchor).style("font-size",t.fontsize()).style("alignment-baseline",l.valign).attr("transform","translate("+(l.x+r)+","+l.y+")")}return a},km=(t,e)=>{const n="radio_"+t.id(),r=t.labelposition(),i=t.buttonsize(),o=t.buttonsize()*(1-t.buttonpadding()),a=t.choices().length,u=gp(a),l=ue().domain([0,a-1]).range([0,t.size()]),s=ue().domain([0,a-1]).range([0,t.size()]),c=document.createElementNS("http://www.w3.org/2000/svg","g"),f=C(c).attr("class",b.widget+" "+b.radio).attr("id",n).attr("transform","translate("+t.x()+","+t.y()+")").selectAll("."+b.radiobutton).data(u).enter().append("g").attr("class",b.radiobutton).attr("id",v=>"b"+v).attr("transform",v=>t.orientation()=="vertical"?"translate(0,"+s(v)+")":"translate("+l(v)+",0)");var h,p;t.shape()=="rect"?(h=f.append("rect").attr("width",i).attr("height",i).attr("rx",2).attr("ry",2).attr("transform","translate("+-i/2+","+-i/2+")"),p=f.append("rect").attr("width",o).attr("height",o).attr("rx",2).attr("ry",2).attr("transform","translate("+-o/2+","+-o/2+")")):(h=f.append("circle").attr("r",i/2),p=f.append("circle").attr("r",o/2)),h.attr("class",b.background).on("mouseover",function(){C(this).classed(b.lit,!0),C(this.parentNode).select("."+b.symbol).classed(b.lit,!0)}).on("mouseout",function(){C(this).classed(b.lit,!1),C(this.parentNode).select("."+b.symbol).classed(b.lit,!1)}),p.attr("class",b.symbol),p.filter(v=>v==t.value()).classed(b.selected,!0),f.on("click",t.click);const d=Ii(t.buttonsize(),t.buttonsize(),r);return f.append("text").attr("class",b.label).text(function(v,w){return t.choices()[w]}).attr("alignment-baseline",d.valign).attr("transform","translate("+d.x+","+d.y+")").style("font-size",t.fontsize()).attr("text-anchor",d.anchor),c},wr=(t,e)=>{switch(t.type){case"button":return bm(t);case"slider":return xm(t);case"radio":return km(t);case"toggle":return Mm(t)}},Am="_displayPanel_eiueu_1",jm="_controlPanel_eiueu_6",$m="_tacho_eiueu_11",Nm="_car_eiueu_15",zm="_tire_eiueu_20",Sm="_street_background_eiueu_25",Em="_asphalt_eiueu_32",Om="_street_marks_eiueu_39",Pm="_pivot_eiueu_48",Tm="_tachoborder_eiueu_53",Im="_tachoredzone_eiueu_59",Cm="_tachotick_eiueu_67",qm="_ticklabel_eiueu_73",Lm="_pin_eiueu_79",Xm="_meanspeed_eiueu_86",N={displayPanel:Am,controlPanel:jm,tacho:$m,car:Nm,tire:zm,street_background:Sm,asphalt:Em,street_marks:Om,pivot:Pm,tachoborder:Tm,tachoredzone:Im,tachotick:Cm,ticklabel:qm,pin:Lm,meanspeed:Xm},Rm=(t,e)=>{const n=Z1(e.controls_size.width,e.controls_size.height,e.controls_grid.nx,e.controls_grid.ny);console.log(t);const r=Bc("#"+t).classed(t+" "+e.container_class,!0),i=t+"_display",o=t+"_controls",a=r.append("div").attr("id",i).attr("class",N.displayPanel).classed(e.display_class,!0).classed(e.debug_lattice,e.debug).append(e.display_type).attr("width",e.display_type=="canvas"?e.display_size.width:null).attr("height",e.display_type=="canvas"?e.display_size.height:null).attr("viewBox",e.display_type=="canvas"?null:"0 0 "+e.display_size.width+" "+e.display_size.height).style("width","100%"),u=r.append("div").attr("id",o).attr("class","d3-widgets "+N.controlPanel).classed(e.controls_class,!0).classed(e.debug_lattice,e.debug).append("svg").attr("viewBox","0 0 "+e.controls_size.width+" "+e.controls_size.height).style("width","100%").style("height","100%");return typeof e.controls_border=="string"&&e.controls_border.length>0&&u.style("border",e.controls_border),typeof e.display_border=="string"&&e.display_border.length>0&&a.style("border",e.display_border),e.debug&&u.selectAll(null).data(n.points).enter().append("circle").attr("r",2).attr("transform",l=>"translate("+l.x+","+l.y+")").style("fill","black"),{display:a,controls:u,grid:n}};var us=typeof global=="object"&&global&&global.Object===Object&&global,Bm=typeof self=="object"&&self&&self.Object===Object&&self,mt=us||Bm||Function("return this")(),kt=mt.Symbol,ss=Object.prototype,Dm=ss.hasOwnProperty,Ym=ss.toString,ve=kt?kt.toStringTag:void 0;function Fm(t){var e=Dm.call(t,ve),n=t[ve];try{t[ve]=void 0;var r=!0}catch{}var i=Ym.call(t);return r&&(e?t[ve]=n:delete t[ve]),i}var Vm=Object.prototype,Hm=Vm.toString;function Um(t){return Hm.call(t)}var Wm="[object Null]",Gm="[object Undefined]",aa=kt?kt.toStringTag:void 0;function Dt(t){return t==null?t===void 0?Gm:Wm:aa&&aa in Object(t)?Fm(t):Um(t)}function qt(t){return t!=null&&typeof t=="object"}var Zm="[object Symbol]";function De(t){return typeof t=="symbol"||qt(t)&&Dt(t)==Zm}function tr(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var J=Array.isArray,ua=kt?kt.prototype:void 0,sa=ua?ua.toString:void 0;function ls(t){if(typeof t=="string")return t;if(J(t))return tr(t,ls)+"";if(De(t))return sa?sa.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Km=/\s/;function Qm(t){for(var e=t.length;e--&&Km.test(t.charAt(e)););return e}var Jm=/^\s+/;function tw(t){return t&&t.slice(0,Qm(t)+1).replace(Jm,"")}function gt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var la=NaN,ew=/^[-+]0x[0-9a-f]+$/i,nw=/^0b[01]+$/i,rw=/^0o[0-7]+$/i,iw=parseInt;function ow(t){if(typeof t=="number")return t;if(De(t))return la;if(gt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tw(t);var n=nw.test(t);return n||rw.test(t)?iw(t.slice(2),n?2:8):ew.test(t)?la:+t}var aw=1/0,uw=17976931348623157e292;function br(t){if(!t)return t===0?t:0;if(t=ow(t),t===aw||t===-1/0){var e=t<0?-1:1;return e*uw}return t===t?t:0}function qi(t){return t}var sw="[object AsyncFunction]",lw="[object Function]",cw="[object GeneratorFunction]",fw="[object Proxy]";function cs(t){if(!gt(t))return!1;var e=Dt(t);return e==lw||e==cw||e==sw||e==fw}var xr=mt["__core-js_shared__"],ca=function(){var t=/[^.]+$/.exec(xr&&xr.keys&&xr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hw(t){return!!ca&&ca in t}var pw=Function.prototype,dw=pw.toString;function Yt(t){if(t!=null){try{return dw.call(t)}catch{}try{return t+""}catch{}}return""}var gw=/[\\^$.*+?()[\]{}|]/g,_w=/^\[object .+?Constructor\]$/,vw=Function.prototype,yw=Object.prototype,mw=vw.toString,ww=yw.hasOwnProperty,bw=RegExp("^"+mw.call(ww).replace(gw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xw(t){if(!gt(t)||hw(t))return!1;var e=cs(t)?bw:_w;return e.test(Yt(t))}function Mw(t,e){return t?.[e]}function Ft(t,e){var n=Mw(t,e);return xw(n)?n:void 0}var ti=Ft(mt,"WeakMap"),fa=function(){try{var t=Ft(Object,"defineProperty");return t({},"",{}),t}catch{}}();function kw(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Aw=9007199254740991,jw=/^(?:0|[1-9]\d*)$/;function er(t,e){var n=typeof t;return e=e??Aw,!!e&&(n=="number"||n!="symbol"&&jw.test(t))&&t>-1&&t%1==0&&t<e}function $w(t,e,n){e=="__proto__"&&fa?fa(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function nr(t,e){return t===e||t!==t&&e!==e}var Nw=Object.prototype,zw=Nw.hasOwnProperty;function Sw(t,e,n){var r=t[e];(!(zw.call(t,e)&&nr(r,n))||n===void 0&&!(e in t))&&$w(t,e,n)}var Ew=9007199254740991;function Li(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ew}function Ye(t){return t!=null&&Li(t.length)&&!cs(t)}function Ow(t,e,n){if(!gt(n))return!1;var r=typeof e;return(r=="number"?Ye(n)&&er(e,n.length):r=="string"&&e in n)?nr(n[e],t):!1}var Pw=Object.prototype;function fs(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pw;return t===n}function Tw(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Iw="[object Arguments]";function ha(t){return qt(t)&&Dt(t)==Iw}var hs=Object.prototype,Cw=hs.hasOwnProperty,qw=hs.propertyIsEnumerable,ps=ha(function(){return arguments}())?ha:function(t){return qt(t)&&Cw.call(t,"callee")&&!qw.call(t,"callee")};function Lw(){return!1}var ds=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pa=ds&&typeof module=="object"&&module&&!module.nodeType&&module,Xw=pa&&pa.exports===ds,da=Xw?mt.Buffer:void 0,Rw=da?da.isBuffer:void 0,ei=Rw||Lw,Bw="[object Arguments]",Dw="[object Array]",Yw="[object Boolean]",Fw="[object Date]",Vw="[object Error]",Hw="[object Function]",Uw="[object Map]",Ww="[object Number]",Gw="[object Object]",Zw="[object RegExp]",Kw="[object Set]",Qw="[object String]",Jw="[object WeakMap]",tb="[object ArrayBuffer]",eb="[object DataView]",nb="[object Float32Array]",rb="[object Float64Array]",ib="[object Int8Array]",ob="[object Int16Array]",ab="[object Int32Array]",ub="[object Uint8Array]",sb="[object Uint8ClampedArray]",lb="[object Uint16Array]",cb="[object Uint32Array]",$={};$[nb]=$[rb]=$[ib]=$[ob]=$[ab]=$[ub]=$[sb]=$[lb]=$[cb]=!0;$[Bw]=$[Dw]=$[tb]=$[Yw]=$[eb]=$[Fw]=$[Vw]=$[Hw]=$[Uw]=$[Ww]=$[Gw]=$[Zw]=$[Kw]=$[Qw]=$[Jw]=!1;function fb(t){return qt(t)&&Li(t.length)&&!!$[Dt(t)]}function hb(t){return function(e){return t(e)}}var gs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ae=gs&&typeof module=="object"&&module&&!module.nodeType&&module,pb=Ae&&Ae.exports===gs,Mr=pb&&us.process,ga=function(){try{var t=Ae&&Ae.require&&Ae.require("util").types;return t||Mr&&Mr.binding&&Mr.binding("util")}catch{}}(),_a=ga&&ga.isTypedArray,_s=_a?hb(_a):fb,db=Object.prototype,gb=db.hasOwnProperty;function vs(t,e){var n=J(t),r=!n&&ps(t),i=!n&&!r&&ei(t),o=!n&&!r&&!i&&_s(t),a=n||r||i||o,u=a?Tw(t.length,String):[],l=u.length;for(var s in t)(e||gb.call(t,s))&&!(a&&(s=="length"||i&&(s=="offset"||s=="parent")||o&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||er(s,l)))&&u.push(s);return u}function ys(t,e){return function(n){return t(e(n))}}var _b=ys(Object.keys,Object),vb=Object.prototype,yb=vb.hasOwnProperty;function mb(t){if(!fs(t))return _b(t);var e=[];for(var n in Object(t))yb.call(t,n)&&n!="constructor"&&e.push(n);return e}function rr(t){return Ye(t)?vs(t):mb(t)}function wb(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var bb=Object.prototype,xb=bb.hasOwnProperty;function Mb(t){if(!gt(t))return wb(t);var e=fs(t),n=[];for(var r in t)r=="constructor"&&(e||!xb.call(t,r))||n.push(r);return n}function kb(t){return Ye(t)?vs(t,!0):Mb(t)}var Ab=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jb=/^\w*$/;function Xi(t,e){if(J(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||De(t)?!0:jb.test(t)||!Ab.test(t)||e!=null&&t in Object(e)}var Ce=Ft(Object,"create");function $b(){this.__data__=Ce?Ce(null):{},this.size=0}function Nb(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zb="__lodash_hash_undefined__",Sb=Object.prototype,Eb=Sb.hasOwnProperty;function Ob(t){var e=this.__data__;if(Ce){var n=e[t];return n===zb?void 0:n}return Eb.call(e,t)?e[t]:void 0}var Pb=Object.prototype,Tb=Pb.hasOwnProperty;function Ib(t){var e=this.__data__;return Ce?e[t]!==void 0:Tb.call(e,t)}var Cb="__lodash_hash_undefined__";function qb(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ce&&e===void 0?Cb:e,this}function Lt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lt.prototype.clear=$b;Lt.prototype.delete=Nb;Lt.prototype.get=Ob;Lt.prototype.has=Ib;Lt.prototype.set=qb;function Lb(){this.__data__=[],this.size=0}function ir(t,e){for(var n=t.length;n--;)if(nr(t[n][0],e))return n;return-1}var Xb=Array.prototype,Rb=Xb.splice;function Bb(t){var e=this.__data__,n=ir(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Rb.call(e,n,1),--this.size,!0}function Db(t){var e=this.__data__,n=ir(e,t);return n<0?void 0:e[n][1]}function Yb(t){return ir(this.__data__,t)>-1}function Fb(t,e){var n=this.__data__,r=ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wt.prototype.clear=Lb;wt.prototype.delete=Bb;wt.prototype.get=Db;wt.prototype.has=Yb;wt.prototype.set=Fb;var qe=Ft(mt,"Map");function Vb(){this.size=0,this.__data__={hash:new Lt,map:new(qe||wt),string:new Lt}}function Hb(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function or(t,e){var n=t.__data__;return Hb(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ub(t){var e=or(this,t).delete(t);return this.size-=e?1:0,e}function Wb(t){return or(this,t).get(t)}function Gb(t){return or(this,t).has(t)}function Zb(t,e){var n=or(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function bt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bt.prototype.clear=Vb;bt.prototype.delete=Ub;bt.prototype.get=Wb;bt.prototype.has=Gb;bt.prototype.set=Zb;var Kb="Expected a function";function Ri(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Kb);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ri.Cache||bt),n}Ri.Cache=bt;var Qb=500;function Jb(t){var e=Ri(t,function(r){return n.size===Qb&&n.clear(),r}),n=e.cache;return e}var tx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ex=/\\(\\)?/g,nx=Jb(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tx,function(n,r,i,o){e.push(i?o.replace(ex,"$1"):r||n)}),e});function ar(t){return t==null?"":ls(t)}function ur(t,e){return J(t)?t:Xi(t,e)?[t]:nx(ar(t))}function Fe(t){if(typeof t=="string"||De(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Bi(t,e){e=ur(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Fe(e[n++])];return n&&n==r?t:void 0}function rx(t,e,n){var r=t==null?void 0:Bi(t,e);return r===void 0?n:r}function ms(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ix=ys(Object.getPrototypeOf,Object);function ox(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function ax(t,e,n){var r=t.length;return n=n===void 0?r:n,ox(t,e,n)}var ux="\\ud800-\\udfff",sx="\\u0300-\\u036f",lx="\\ufe20-\\ufe2f",cx="\\u20d0-\\u20ff",fx=sx+lx+cx,hx="\\ufe0e\\ufe0f",px="\\u200d",dx=RegExp("["+px+ux+fx+hx+"]");function ws(t){return dx.test(t)}function gx(t){return t.split("")}var bs="\\ud800-\\udfff",_x="\\u0300-\\u036f",vx="\\ufe20-\\ufe2f",yx="\\u20d0-\\u20ff",mx=_x+vx+yx,wx="\\ufe0e\\ufe0f",bx="["+bs+"]",ni="["+mx+"]",ri="\\ud83c[\\udffb-\\udfff]",xx="(?:"+ni+"|"+ri+")",xs="[^"+bs+"]",Ms="(?:\\ud83c[\\udde6-\\uddff]){2}",ks="[\\ud800-\\udbff][\\udc00-\\udfff]",Mx="\\u200d",As=xx+"?",js="["+wx+"]?",kx="(?:"+Mx+"(?:"+[xs,Ms,ks].join("|")+")"+js+As+")*",Ax=js+As+kx,jx="(?:"+[xs+ni+"?",ni,Ms,ks,bx].join("|")+")",$x=RegExp(ri+"(?="+ri+")|"+jx+Ax,"g");function Nx(t){return t.match($x)||[]}function zx(t){return ws(t)?Nx(t):gx(t)}function Sx(t){return function(e){e=ar(e);var n=ws(e)?zx(e):void 0,r=n?n[0]:e.charAt(0),i=n?ax(n,1).join(""):e.slice(1);return r[t]()+i}}var Ex=Sx("toUpperCase");function Ox(t){return Ex(ar(t).toLowerCase())}function Px(){this.__data__=new wt,this.size=0}function Tx(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ix(t){return this.__data__.get(t)}function Cx(t){return this.__data__.has(t)}var qx=200;function Lx(t,e){var n=this.__data__;if(n instanceof wt){var r=n.__data__;if(!qe||r.length<qx-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bt(r)}return n.set(t,e),this.size=n.size,this}function ht(t){var e=this.__data__=new wt(t);this.size=e.size}ht.prototype.clear=Px;ht.prototype.delete=Tx;ht.prototype.get=Ix;ht.prototype.has=Cx;ht.prototype.set=Lx;function Xx(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function $s(){return[]}var Rx=Object.prototype,Bx=Rx.propertyIsEnumerable,va=Object.getOwnPropertySymbols,Ns=va?function(t){return t==null?[]:(t=Object(t),Xx(va(t),function(e){return Bx.call(t,e)}))}:$s,Dx=Object.getOwnPropertySymbols,Yx=Dx?function(t){for(var e=[];t;)ms(e,Ns(t)),t=ix(t);return e}:$s;function zs(t,e,n){var r=e(t);return J(t)?r:ms(r,n(t))}function ya(t){return zs(t,rr,Ns)}function Fx(t){return zs(t,kb,Yx)}var ii=Ft(mt,"DataView"),oi=Ft(mt,"Promise"),ai=Ft(mt,"Set"),ma="[object Map]",Vx="[object Object]",wa="[object Promise]",ba="[object Set]",xa="[object WeakMap]",Ma="[object DataView]",Hx=Yt(ii),Ux=Yt(qe),Wx=Yt(oi),Gx=Yt(ai),Zx=Yt(ti),ct=Dt;(ii&&ct(new ii(new ArrayBuffer(1)))!=Ma||qe&&ct(new qe)!=ma||oi&&ct(oi.resolve())!=wa||ai&&ct(new ai)!=ba||ti&&ct(new ti)!=xa)&&(ct=function(t){var e=Dt(t),n=e==Vx?t.constructor:void 0,r=n?Yt(n):"";if(r)switch(r){case Hx:return Ma;case Ux:return ma;case Wx:return wa;case Gx:return ba;case Zx:return xa}return e});var ka=mt.Uint8Array,Kx="__lodash_hash_undefined__";function Qx(t){return this.__data__.set(t,Kx),this}function Jx(t){return this.__data__.has(t)}function qn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bt;++e<n;)this.add(t[e])}qn.prototype.add=qn.prototype.push=Qx;qn.prototype.has=Jx;function t2(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function e2(t,e){return t.has(e)}var n2=1,r2=2;function Ss(t,e,n,r,i,o){var a=n&n2,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var s=o.get(t),c=o.get(e);if(s&&c)return s==e&&c==t;var f=-1,h=!0,p=n&r2?new qn:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var d=t[f],v=e[f];if(r)var w=a?r(v,d,f,e,t,o):r(d,v,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!t2(e,function(_,x){if(!e2(p,x)&&(d===_||i(d,_,n,r,o)))return p.push(x)})){h=!1;break}}else if(!(d===v||i(d,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function Es(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function i2(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var o2=1,a2=2,u2="[object Boolean]",s2="[object Date]",l2="[object Error]",c2="[object Map]",f2="[object Number]",h2="[object RegExp]",p2="[object Set]",d2="[object String]",g2="[object Symbol]",_2="[object ArrayBuffer]",v2="[object DataView]",Aa=kt?kt.prototype:void 0,kr=Aa?Aa.valueOf:void 0;function y2(t,e,n,r,i,o,a){switch(n){case v2:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _2:return!(t.byteLength!=e.byteLength||!o(new ka(t),new ka(e)));case u2:case s2:case f2:return nr(+t,+e);case l2:return t.name==e.name&&t.message==e.message;case h2:case d2:return t==e+"";case c2:var u=Es;case p2:var l=r&o2;if(u||(u=i2),t.size!=e.size&&!l)return!1;var s=a.get(t);if(s)return s==e;r|=a2,a.set(t,e);var c=Ss(u(t),u(e),r,i,o,a);return a.delete(t),c;case g2:if(kr)return kr.call(t)==kr.call(e)}return!1}var m2=1,w2=Object.prototype,b2=w2.hasOwnProperty;function x2(t,e,n,r,i,o){var a=n&m2,u=ya(t),l=u.length,s=ya(e),c=s.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=u[f];if(!(a?h in e:b2.call(e,h)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=u[f];var _=t[h],x=e[h];if(r)var k=a?r(x,_,h,e,t,o):r(_,x,h,t,e,o);if(!(k===void 0?_===x||i(_,x,n,r,o):k)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof m=="function"&&m instanceof m)&&(v=!1)}return o.delete(t),o.delete(e),v}var M2=1,ja="[object Arguments]",$a="[object Array]",rn="[object Object]",k2=Object.prototype,Na=k2.hasOwnProperty;function A2(t,e,n,r,i,o){var a=J(t),u=J(e),l=a?$a:ct(t),s=u?$a:ct(e);l=l==ja?rn:l,s=s==ja?rn:s;var c=l==rn,f=s==rn,h=l==s;if(h&&ei(t)){if(!ei(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ht),a||_s(t)?Ss(t,e,n,r,i,o):y2(t,e,l,n,r,i,o);if(!(n&M2)){var p=c&&Na.call(t,"__wrapped__"),d=f&&Na.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,w=d?e.value():e;return o||(o=new ht),i(v,w,n,r,o)}}return h?(o||(o=new ht),x2(t,e,n,r,i,o)):!1}function Di(t,e,n,r,i){return t===e?!0:t==null||e==null||!qt(t)&&!qt(e)?t!==t&&e!==e:A2(t,e,n,r,Di,i)}var j2=1,$2=2;function N2(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var u=a[0],l=t[u],s=a[1];if(a[2]){if(l===void 0&&!(u in t))return!1}else{var c=new ht,f;if(!(f===void 0?Di(s,l,j2|$2,r,c):f))return!1}}return!0}function Os(t){return t===t&&!gt(t)}function z2(t){for(var e=rr(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Os(i)]}return e}function Ps(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function S2(t){var e=z2(t);return e.length==1&&e[0][2]?Ps(e[0][0],e[0][1]):function(n){return n===t||N2(n,t,e)}}function E2(t,e){return t!=null&&e in Object(t)}function Ts(t,e,n){e=ur(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Fe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Li(i)&&er(a,i)&&(J(t)||ps(t)))}function O2(t,e){return t!=null&&Ts(t,e,E2)}var P2=1,T2=2;function I2(t,e){return Xi(t)&&Os(e)?Ps(Fe(t),e):function(n){var r=rx(n,t);return r===void 0&&r===e?O2(n,t):Di(e,r,P2|T2)}}function C2(t){return function(e){return e?.[t]}}function q2(t){return function(e){return Bi(e,t)}}function L2(t){return Xi(t)?C2(Fe(t)):q2(t)}function Yi(t){return typeof t=="function"?t:t==null?qi:typeof t=="object"?J(t)?I2(t[0],t[1]):S2(t):L2(t)}function X2(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var R2=X2();function B2(t,e){return t&&R2(t,e,rr)}function D2(t,e){return function(n,r){if(n==null)return n;if(!Ye(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}}var Is=D2(B2);function Y2(t){return typeof t=="function"?t:qi}function Xt(t,e){var n=J(t)?kw:Is;return n(t,Y2(e))}function F2(t,e){return tr(e,function(n){return[n,t[n]]})}function V2(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=[r,r]}),n}var H2="[object Map]",U2="[object Set]";function W2(t){return function(e){var n=ct(e);return n==H2?Es(e):n==U2?V2(e):F2(e,t(e))}}var Cs=W2(rr);function G2(t,e){var n=-1,r=Ye(t)?Array(t.length):[];return Is(t,function(i,o,a){r[++n]=e(i,o,a)}),r}function Rt(t,e){var n=J(t)?tr:G2;return n(t,Yi(e))}function Z2(t,e){return t>e}var K2=Object.prototype,Q2=K2.hasOwnProperty;function J2(t,e){return t!=null&&Q2.call(t,e)}function t5(t,e){return t!=null&&Ts(t,e,J2)}var e5="[object Boolean]";function n5(t){return t===!0||t===!1||qt(t)&&Dt(t)==e5}function r5(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(u===void 0?a===a&&!De(a):n(a,u)))var u=a,l=o}return l}function i5(t,e){return t&&t.length?r5(t,Yi(e),Z2):void 0}function o5(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var a5=NaN;function u5(t,e){var n=t==null?0:t.length;return n?o5(t,e)/n:a5}function s5(t){return u5(t,qi)}function l5(t,e,n,r){if(!gt(t))return t;e=ur(e,t);for(var i=-1,o=e.length,a=o-1,u=t;u!=null&&++i<o;){var l=Fe(e[i]),s=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var c=u[l];s=void 0,s===void 0&&(s=gt(c)?c:er(e[i+1])?[]:{})}Sw(u,l,s),u=u[l]}return t}function c5(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Bi(t,a);n(u,a)&&l5(o,ur(a,t),u)}return o}function qs(t,e){if(t==null)return{};var n=tr(Fx(t),function(r){return[r]});return e=Yi(e),c5(t,n,function(r,i){return e(r,i[0])})}var f5=Math.ceil,h5=Math.max;function p5(t,e,n,r){for(var i=-1,o=h5(f5((e-t)/(n||1)),0),a=Array(o);o--;)a[++i]=t,t+=n;return a}function d5(t){return function(e,n,r){return r&&typeof r!="number"&&Ow(e,n,r)&&(n=r=void 0),e=br(e),n===void 0?(n=e,e=0):n=br(n),r=r===void 0?e<n?1:-1:br(r),p5(e,n,r)}}var ce=d5();function g5(){var t=arguments,e=ar(t[0]);return t.length<3?e:e.replace(t[1],t[2])}const S={widgets:{slider_size:400,slider_gap:1.5,slider_girth:12,slider_knob:14,slider_anchor:{x:1,y:7},toggle_anchor:{x:6.5,y:4},toggle_label_position:"right",toggle_gap:1,playbutton_size:120,playbutton_anchor:{x:3,y:2},backbutton_anchor:{x:4,y:5},resetbutton_anchor:{x:2,y:5}},simulation:{delay:10},tacho:{anchor:{x:8.5,y:3},tick:4,size:100}},M={N:40,delta:.01,dt:.0035,path:{kr:6,ktheta:12,rmin:2,slope:1,vartheta:.169,vartheta_0:.169,varr:1,varr_0:1},mean_speed:{range:[.1,.3],default:.2},speed_variability:{range:[0,.25*.2],default:.1*.2},inertia:{range:[.1*1/40,1/40],default:.5*1/40},acceleration:{range:[.15,.75],default:.5},highlight_passing:{default:!1},color_speed:{default:!1},allow_lane_changes:{default:!0}},Ls=t=>Rt(Cs(t),e=>{e[1].id=e[0],e[1].label=g5(Ox(e[0]),/_/g," ")}),Xs=t=>Rt(Cs(t),e=>e[1]),Rs=(t,e)=>Xt(t,(n,r)=>n.widget=e[r]),_5=t=>qs(t,e=>t5(e,"range")),v5=t=>qs(t,e=>n5(e.default));fe().domain([0,360]).range([0,2*Math.PI]);fe().range([0,360]).domain([0,2*Math.PI]);const H=(t,e)=>{if(t-e>=0&&t-e<.5)return t-e;if(t-e<0&&t-e<-.5)return 1-e+t;if(t-e<0&&t-e>-.5)return t-e;if(t-e>0&&t-e>.5)return t-e-1},Fi=_5(M),Vi=v5(M);Ls(Fi);Ls(Vi);const Bs=Xs(Fi),Ds=Xs(Vi),dn=Rt(Bs,t=>mm().id(t.id).label(t.label).range(t.range).value(t.default).size(S.widgets.slider_size).girth(S.widgets.slider_girth).knob(S.widgets.slider_knob)),gn=Rt(Ds,t=>wm().id(t.id).label(t.label).value(t.default).labelposition(S.widgets.toggle_label_position));Rs(Ds,gn);Rs(Bs,dn);const Mt=Ci().actions(["play","pause"]),sr=Ci().actions(["back"]),lr=Ci().actions(["rewind"]),y5=[Mt,sr,lr],m5=(t,e)=>{const n=e.position(S.widgets.slider_anchor.x,ce(dn.length).map(i=>S.widgets.slider_anchor.y+S.widgets.slider_gap*i)),r=e.position(S.widgets.toggle_anchor.x,ce(gn.length).map(i=>S.widgets.toggle_anchor.y+S.widgets.toggle_gap*i));dn.forEach((i,o)=>i.position(n[o])),gn.forEach((i,o)=>i.position(r[o])),Mt.position(e.position(S.widgets.playbutton_anchor.x,S.widgets.playbutton_anchor.y)).size(S.widgets.playbutton_size),lr.position(e.position(S.widgets.backbutton_anchor.x,S.widgets.backbutton_anchor.y)),sr.position(e.position(S.widgets.resetbutton_anchor.x,S.widgets.resetbutton_anchor.y)),t.selectAll(null).data(dn).enter().append(wr),t.selectAll(null).data(gn).enter().append(wr),t.selectAll(null).data(y5).enter().append(wr)},w5=t=>{Xt(Fi,e=>e.widget.reset(t,e.default)),Xt(Vi,e=>e.widget.reset(t,e.default))};M.L;const Ar=M.dt;var q=[];const b5=()=>{M.timer={},M.tick=0;const t=M.N;M.mean_speed.widget.value(),M.speed_variability.widget.value(),q=Rt(ce(2*t),e=>{const n=Math.random();return{id:e,x:e<t?e/t%1:(e/t+.5/t)%1,v:0,v0:M.mean_speed.widget.value()+M.speed_variability.widget.value()*n,vdiff:n,lane:e<t?"left":"right",passing:!1,passing_tau:0,v_hist:Rt(ce(50),r=>0),v_avg:0}}),Xt(q,(e,n)=>{n<t?e.next=q[(n+1)%t]:e.next=q[t+(n+1)%t]})},x5=()=>{M.tick++,Xt(q,(t,e)=>{if(Math.random()<.5&&H(t.next.x,t.x)<.03&&t.passing==!1&&M.allow_lane_changes.widget.value()){var n=q.filter(function(f){return f.lane!=t.lane&&H(f.x,t.x)<0}),r=q.filter(function(f){return f.lane!=t.lane&&H(f.x,t.x)>0}),i=il(n,function(f){return H(f.x,t.x)}),o=ol(r,function(f){return H(f.x,t.x)});if(i<-.015&&o>.015&&o>H(t.next.x,t.x)){var a=q.filter(function(f){return f.next==t})[0];a.next=t.next;var u=n.filter(function(f){return H(f.x,t.x)==i})[0],l=r.filter(function(f){return H(f.x,t.x)==o})[0];u.next=t,t.next=l,t.lane=="left"?t.lane="right":t.lane="left",t.passing=!0,t.passing_tau=1}}let s=t.x,c=t.next.x;H(c,s)>M.inertia.widget.value()&&(t.v<t.v0?t.dv=M.acceleration.widget.value()*Ar:t.dv=-M.acceleration.widget.value()*Ar),H(c,s)<M.delta&&(t.dv=.5*t.next.v-t.v),H(c,s)>=M.delta&&H(c,s)<M.inertia.widget.value()&&(t.dv=0),t.passing==!0&&(t.passing_tau-=.025),t.passing_tau<=0&&(t.passing=!1,t.passing_tau=0),t.dx=t.v*Ar}),Xt(q,t=>{t.x+=t.dx,t.v+=t.dv,t.v<0&&(t.v=0),t.x=t.x%1,t.v_hist.push(t.v),t.v_hist.shift(),t.v_avg=s5(t.v_hist)})},M5=()=>{Xt(q,t=>{t.v0=M.mean_speed.widget.value()+M.speed_variability.widget.value()*t.vdiff})},k5=(t,e)=>{const n=ce(0,1.001,.001);t.append("path").datum(n).attr("d",e).attr("class",N.street_background),t.append("path").datum(n).attr("d",e).attr("class",N.asphalt),t.append("path").datum(n).attr("d",e).attr("class",N.street_marks)},A5=t=>{const e=[{x:4,y:4},{x:4,y:-4},{x:-4,y:-4},{x:-4,y:4}];t.selectAll("."+N.tire).data(e).enter().append("circle").attr("class",N.tire).attr("r","2").attr("cy",n=>n.y).attr("cx",n=>n.x),t.append("rect").attr("width",8).attr("height",16).attr("rx",1).attr("ry",3).attr("x","-4").attr("y","-8"),t.append("rect").attr("width",6).attr("height",6).attr("rx",1).attr("ry",1).attr("x","-3").attr("y","-2")};M.L;const Wt=t=>(M.path.rmin+M.path.varr*Math.cos(M.path.kr*2*Math.PI*t))*Math.cos(M.path.slope*2*Math.PI*t+M.path.vartheta*Math.sin(M.path.ktheta*2*Math.PI*t)),Gt=t=>(M.path.rmin+M.path.varr*Math.cos(M.path.kr*2*Math.PI*t))*Math.sin(M.path.slope*2*Math.PI*t+M.path.vartheta*Math.sin(M.path.ktheta*2*Math.PI*t)),j5=()=>{let t=2e3,e=ce(0,1,1/t);var n=[0];for(let r=0;r<t-1;r++)n.push(n[r]+Math.sqrt((Wt(e[r+1])-Wt(e[r]))*(Wt(e[r+1])-Wt(e[r]))+(Gt(e[r+1])-Gt(e[r]))*(Gt(e[r+1])-Gt(e[r]))));return n=Rt(n,r=>r/n[n.length-1]),n},Ln=fe().domain([-3.4,3.4]),Xn=fe().domain([-3.4,3.4]);var ui=fe().range(["red","white"]);const $5=pu().x(t=>Ln(Wt(t))).y(t=>Xn(Gt(t)));var on=j5();const Ys=t=>{let e=on.filter(r=>r<=t%1),n=(t-e[e.length-1])/(on[e.length]-on[e.length-1]);return t>1&&(n=0),(e.length+n)/(on.length-1)},Jt=t=>Wt(Ys(t)),te=t=>Gt(Ys(t)),N5=(t,e)=>{ui.domain([0,i5(q,a=>a.v0).v0]);const n=e.display_size.width,r=e.display_size.height;Ln.range([0,n]),Xn.range([0,r]),t.selectAll("#origin").remove();const i=t.append("g").attr("id","origin");k5(i,$5);const o=i.selectAll("."+N.car).data(q).enter().append("g").attr("class",N.car).attr("transform",a=>{let u=Jt(a.x+.001)-Jt(a.x),l=te(a.x+.001)-te(a.x),s=a.lane=="left"?8:-8,c=Math.atan2(l,u);return a.passing==!0&&(s=a.lane=="left"?a.passing_tau*-8+(1-a.passing_tau)*8:a.passing_tau*8+(1-a.passing_tau)*-8),"translate("+Ln(Jt(a.x))+","+Xn(te(a.x))+")rotate("+(90+c/Math.PI*180)+")translate("+s+",0)scale(0.8)"}).style("fill",a=>M.color_speed.widget.value()?ui(a.v):"white");A5(o)},z5=(t,e)=>{t.selectAll("#origin").selectAll("."+N.car).attr("transform",n=>{let r=Jt(n.x+.001)-Jt(n.x),i=te(n.x+.001)-te(n.x),o=n.lane=="left"?8:-8,a=Math.atan2(i,r);return n.passing==!0&&(o=n.lane=="left"?n.passing_tau*-8+(1-n.passing_tau)*8:n.passing_tau*8+(1-n.passing_tau)*-8),"translate("+Ln(Jt(n.x))+","+Xn(te(n.x))+")rotate("+(90+a/Math.PI*180)+")translate("+o+",0)scale(0.8)"}).style("fill",n=>n.passing&&M.highlight_passing.widget.value()?"blue":M.color_speed.widget.value()?ui(n.v):"white")},_n=S.tacho.size,za=S.tacho.tick,Sa=pu().x(function(t){return _n*Math.cos(t)}).y(function(t){return-100*Math.sin(t)}),S5=(t,e)=>{const n=M.mean_speed.range[1]+M.speed_variability.range[1];t.select("."+N.tacho).remove();const r=e.position(S.tacho.anchor.x,S.tacho.anchor.y),i=t.append("g").attr("class",N.tacho).attr("transform","translate("+r.x+","+r.y+")");i.append("path").data([Ve(0,.2*Math.PI,.01)]).attr("d",Sa).attr("class",N.tachoredzone),i.append("path").data([Ve(0,Math.PI,.01)]).attr("d",Sa).attr("class",N.tachoborder),i.selectAll("."+N.tachotick).data(Ve(0,Math.PI+Math.PI/10,Math.PI/10)).enter().append("line").attr("class",N.tachotick).attr("x1",o=>(_n-za)*Math.cos(o)).attr("x2",o=>_n*Math.cos(o)).attr("y1",o=>-96*Math.sin(o)).attr("y2",o=>-100*Math.sin(o)),i.selectAll("."+N.ticklabel).data(Ve(0,Math.PI+Math.PI/10,Math.PI/10)).enter().append("g").attr("transform",function(o,a){return"translate("+(_n+2*za)*Math.cos(o)+","+-108*Math.sin(o)+")rotate("+(-o/(2*Math.PI)*360+90)+")"}).append("text").text(function(o,a){return 150-a*15}).attr("class",N.ticklabel),i.selectAll("."+N.pin).data(q).enter().append("line").attr("class",N.pin).attr("x1",function(o){return 0}).attr("x2",function(o){return-92*Math.cos(o.v/n)}).attr("y1",function(o){return 0}).attr("y2",function(o){return-92*Math.sin(o.v/n)}),i.datum(Ta(q,function(o){return o.v_avg})).append("line").attr("class",N.meanspeed).attr("x1",function(o){return 0}).attr("x2",function(o){return-92*Math.cos(o/n)}).attr("y1",function(o){return 0}).attr("y2",function(o){return-92*Math.sin(o/n)}),i.append("circle").attr("class",N.pivot).attr("r",5)},Fs=t=>{const e=M.mean_speed.range[1]+M.speed_variability.range[1],n=t.select("."+N.tacho);n.selectAll("."+N.pin).data(q).attr("x1",function(r){return 0}).attr("x2",function(r){return-92*Math.cos(Math.PI*r.v_avg/e)}).attr("y1",function(r){return 0}).attr("y2",function(r){return-92*Math.sin(Math.PI*r.v_avg/e)}),n.selectAll("."+N.meanspeed).datum(Ta(q,function(r){return r.v_avg})).attr("x1",function(r){return 0}).attr("x2",function(r){return-92*Math.cos(Math.PI*r/e)}).attr("y1",function(r){return 0}).attr("y2",function(r){return-92*Math.sin(Math.PI*r/e)})};function E5(t,e,n){x5(),z5(t),Fs(e)}function Vs(t,e,n,r){b5(),N5(t,r),S5(e,n)}function Ea(t,e,n){M5(),Fs(e)}var Oa={};const O5=(t,e,n)=>{Mt.value()==1?Oa=wf(()=>E5(t,e),S.simulation.delay):Oa.stop()},P5=(t,e,n,r)=>{lr.update(()=>w5(e)),Mt.update(()=>O5(t,e)),sr.update(()=>Vs(t,e,n,r)),M.mean_speed.widget.update(()=>Ea(t,e)),M.speed_variability.widget.update(()=>Ea(t,e))},T5={name:"@explorables/berlin_8_am",title:"Berlin 8:00 a.m.",subtitle:"The emergence of phantom traffic jams",description:"This explorable illustrates a model for traffic and congestion and the phenomenon knowns as phantom traffic jams, spontaneously emergent congested traffic segments that move slowly and oppositely to the traffic.",author:"Dirk Brockmann (https://synosy.github.io)"};function I5(t,e=Rn){const n=Rm(t,e),r=n.display,i=n.controls,o=n.grid;return m5(i,o),P5(r,i,o,e),Vs(r,i,o,e),{halt(){Mt.value()===1&&Mt.press(i)},reset(){Mt.value()===1&&Mt.press(i),lr.press(i),sr.press(i)},config:e,meta:T5}}Rn.container_class="flex flex-col sm:flex-row items-start gap-8";Rn.display_class="w-full border-1 border-black dark:border-white sm:w-1/2 mb-0 h-auto";Rn.controls_class=" w-full sm:w-1/2 mb-0 h-auto";const L5=({id:t})=>{const e=Hi.useRef(null);return Hi.useEffect(()=>(e.current&&I5(e.current.id),()=>{Hs("#"+e.current.id).selectAll("*").remove()}),[t]),Us.jsx("div",{ref:e,id:t})};export{L5 as default};
